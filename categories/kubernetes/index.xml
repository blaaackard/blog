<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Kubernetes on Penta's TechBlog</title><link>https://blaaackard.com/categories/kubernetes/</link><description>Recent content in Kubernetes on Penta's TechBlog</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sun, 08 Oct 2023 15:38:34 +0900</lastBuildDate><atom:link href="https://blaaackard.com/categories/kubernetes/index.xml" rel="self" type="application/rss+xml"/><item><title>GKE ã® kube-system ãƒªã‚½ãƒ¼ã‚¹ã‚’ã–ã£ãã‚Šç†è§£ã™ã‚‹</title><link>https://blaaackard.com/p/gke-kubesystem-resource/</link><pubDate>Sun, 08 Oct 2023 15:38:34 +0900</pubDate><guid>https://blaaackard.com/p/gke-kubesystem-resource/</guid><description>&lt;img src="https://blaaackard.com/p/gke-kubesystem-resource/cover.png" alt="Featured image of post GKE ã® kube-system ãƒªã‚½ãƒ¼ã‚¹ã‚’ã–ã£ãã‚Šç†è§£ã™ã‚‹" />&lt;h1 id="æœ€åˆã«">æœ€åˆã«&lt;/h1>
&lt;p>Kubernetesåˆå¿ƒè€…ã®ç§ã¯ç‰¹ã«Namespaceã€Œ&lt;strong>kube-system&lt;/strong>ã€ã«ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã«ã¤ã„ã¦æ„è­˜ã›ãšã«æ¥­å‹™ã‚’é€²ã‚ã¦ã„ã¾ã—ãŸã€‚&lt;br>
ãã“ã§ä»Šå›ã¯GKE(Google Cloud Kubernetes Engine)ã§ã‚¯ãƒ©ã‚¹ã‚¿æ§‹ç¯‰æ™‚ã«å‹æ‰‹ã«ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒã©ã®ã‚ˆã†ãªåƒãã‚’ã—ã¦ã„ã‚‹ã®ã‹é›‘ã«ã¾ã¨ã‚ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;/p>
&lt;p>ã¾ãšã¯ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã—ã¦ã€ã€ã€ ç‰¹ã«ä½•ã‚‚ãƒ‡ãƒ—ãƒ­ã‚¤ã›ãšã«&lt;code>k get all&lt;/code>ã‚’ã—ã¾ã™ã€‚&lt;/p>
&lt;details>
&lt;summary>å®Ÿè¡Œçµæœ&lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k get all -n kube-system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/event-exporter-gke-7bf6c99dcb-ddh8w 2/2 Running &lt;span class="m">0&lt;/span> 3m14s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/fluentbit-gke-sdpcc 2/2 Running &lt;span class="m">0&lt;/span> 2m14s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/gke-metrics-agent-mztgr 2/2 Running &lt;span class="m">0&lt;/span> 2m14s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/konnectivity-agent-69fc69d588-t67rj 1/1 Running &lt;span class="m">0&lt;/span> 3m3s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/konnectivity-agent-autoscaler-5d9dbcc6d8-2qlgw 1/1 Running &lt;span class="m">0&lt;/span> 3m2s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/kube-dns-5bfd847c64-p6tgx 4/4 Running &lt;span class="m">0&lt;/span> 3m22s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/kube-dns-autoscaler-84b8db4dc7-2sjtc 1/1 Running &lt;span class="m">0&lt;/span> 3m21s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/kube-proxy-gke-cn-matsuirut-temp-default-pool-14ae721e-qj9s 1/1 Running &lt;span class="m">0&lt;/span> 72s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/l7-default-backend-d86c96845-nj87m 1/1 Running &lt;span class="m">0&lt;/span> 3m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/metrics-server-v0.5.2-6bf74b5d5f-wvrqq 2/2 Running &lt;span class="m">0&lt;/span> 91s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/pdcsi-node-pvztw 2/2 Running &lt;span class="m">0&lt;/span> 2m14s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span class="o">(&lt;/span>S&lt;span class="o">)&lt;/span> AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/default-http-backend NodePort 10.248.14.194 &amp;lt;none&amp;gt; 80:30274/TCP 2m59s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/kube-dns ClusterIP 10.248.0.10 &amp;lt;none&amp;gt; 53/UDP,53/TCP 3m23s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/metrics-server ClusterIP 10.248.8.65 &amp;lt;none&amp;gt; 443/TCP 2m50s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME DESIRED CURRENT READY UP-TO-DATE AVAILABLE NODE SELECTOR AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/fluentbit-gke &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux 3m12s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/fluentbit-gke-256pd &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux 3m12s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/fluentbit-gke-max &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux 3m12s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &amp;lt;none&amp;gt; 3m8s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-10 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m8s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-100 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m7s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-20 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m7s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-200 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m7s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-50 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m7s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-scaling-500 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m6s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/gke-metrics-agent-windows &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>windows 3m6s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/kube-proxy &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux,node.kubernetes.io/kube-proxy-ds-ready&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> 2m38s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/metadata-proxy-v0.1 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> cloud.google.com/metadata-proxy-ready&lt;span class="o">=&lt;/span>true,kubernetes.io/os&lt;span class="o">=&lt;/span>linux 2m35s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nccl-fastsocket-installer &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 2m49s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-large-cos &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m5s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-large-ubuntu &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m4s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-medium-cos &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m6s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-medium-ubuntu &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m5s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-small-cos &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m6s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/nvidia-gpu-device-plugin-small-ubuntu &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 3m5s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/pdcsi-node &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux 2m46s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/pdcsi-node-windows &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>windows 2m45s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/runsc-metric-server &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> kubernetes.io/os&lt;span class="o">=&lt;/span>linux,sandbox.gke.io/runtime&lt;span class="o">=&lt;/span>gvisor 3m20s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonset.apps/tpu-device-plugin &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &amp;lt;none&amp;gt; 2m41s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME READY UP-TO-DATE AVAILABLE AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/event-exporter-gke 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m15s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/konnectivity-agent 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m4s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/konnectivity-agent-autoscaler 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m3s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/kube-dns 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m24s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/kube-dns-autoscaler 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m22s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/l7-default-backend 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m1s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/metrics-server-v0.5.2 1/1 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 2m50s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME DESIRED CURRENT READY AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/event-exporter-gke-7bf6c99dcb &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m15s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/konnectivity-agent-69fc69d588 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m4s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/konnectivity-agent-autoscaler-5d9dbcc6d8 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m3s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/kube-dns-5bfd847c64 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m23s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/kube-dns-autoscaler-84b8db4dc7 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m22s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/l7-default-backend-d86c96845 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 3m1s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/metrics-server-v0.5.2-6bf74b5d5f &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 92s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">replicaset.apps/metrics-server-v0.5.2-8569bc4cf9 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> 2m50s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/details>
&lt;p>æ²¢å±±ã‚ã‚Šã¾ã™ã­ã€ä¸€ã¤ãšã¤ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã§ã¾ã¨ã‚ã¦ã„ã“ã†ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;br>
æƒ…å ±é–“é•ã£ã¦ã„ãŸã‚‰ã™ã¿ã¾ã›ã‚“ã€‚&lt;/p>
&lt;h2 id="deployment">Deployment&lt;/h2>
&lt;h3 id="event-exporter-gke">event-exporter-gke&lt;/h3>
&lt;p>âœ… &lt;strong>Cluster ã§ç™ºç”Ÿã—ãŸ Event ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã— Cloud Logging ã«é€ä¿¡ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>Kubetenes Clusterå†…éƒ¨ã§å®Ÿéš›ã«ç™ºç”Ÿã—ãŸEventã¯&lt;code>kubectl get event&lt;/code>ã§å–å¾—å¯èƒ½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ kubectl get event
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LAST SEEN TYPE REASON OBJECT MESSAGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">55s Normal ScalingReplicaSet deployment/kube-dns Scaled down replica &lt;span class="nb">set&lt;/span> kube-dns-5bfd847c64 to &lt;span class="m">1&lt;/span> from &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®Eventæƒ…å ±ã¯ç™ºç”Ÿã‹ã‚‰1æ™‚é–“å¾Œã«å‰Šé™¤ã•ã‚Œã¦ã—ã¾ã†ã€‚Clusterå†…éƒ¨ã®ç•°å¸¸ã«æ°—ã¥ãã€å¾Œã‹ã‚‰èª¿æŸ»ã—ã‚ˆã†ã¨æ€ã£ãŸã¨ãã«ã¯Eventã®ãƒ­ã‚°ãŒæ¶ˆãˆã¦ã„ãŸã€ã¨ãªã‚‹ã¨å¤§å¤‰ã ã€‚&lt;br>
ãã“ã§&lt;strong>event-exporter-gke&lt;/strong>ã®ç™»å ´ã€‚Eventæƒ…å ±ã‚’Loggingã«é€ä¿¡ã™ã‚‹ã“ã¨ã§å¾Œã‹ã‚‰ã§ã‚‚Eventæƒ…å ±ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã€ä½•ã‚ˆã‚Šã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å®¹æ˜“ã«æ¤œç´¢ãŒå¯èƒ½ã¨ãªã‚‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://blaaackard.com/p/gke-kubesystem-resource/logging.png"
width="1177"
height="514"
srcset="https://blaaackard.com/p/gke-kubesystem-resource/logging_hu105c321fc49abb2bc50ed5c88a48ee4b_108766_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/logging_hu105c321fc49abb2bc50ed5c88a48ee4b_108766_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Loggingã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢"
class="gallery-image"
data-flex-grow="228"
data-flex-basis="549px"
>&lt;/p>
&lt;p>ğŸš¨å…¬å¼docã«ã‚ˆã‚‹ã¨event-exporterã¯ãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆæ–¹å¼ã§å‹•ä½œã™ã‚‹ãŸã‚ã€ã™ã¹ã¦ã®Eventã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ãã‚‹ã¨ã¯é™ã‚‰ãªã„ã‚‰ã—ã„ã€‚ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®éš›ã¯ã€Eventã«åŠ ãˆã¦Logsã¨Metricsã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja&lt;/a>&lt;/p>
&lt;h3 id="konnectivity-agent">konnectivity-agent&lt;/h3>
&lt;p>âœ… &lt;strong>ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚¿ã¸ã®é€šä¿¡ã‚’å®‰å…¨ã«&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Konnectivity&lt;/strong> ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚¿ã¸ã®é€šä¿¡ã« TCP ãƒ—ãƒ­ã‚­ã‚·ã‚’æä¾›ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³å´ã«é…ç½®ã•ã‚ŒãŸ Konnectivity Serverã¨ã€ã‚¯ãƒ©ã‚¹ã‚¿å´ã« é…ç½®ã•ã‚ŒãŸKonnectivity Agentã®ï¼’ã¤ã®å½¹å‰²ã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚&lt;br>
Konnectivity ç™»å ´ä»¥å‰ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚¿å†…éƒ¨ã¸ã®é€šä¿¡ã«ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æ‡¸å¿µãŒã‚ã‚‹ãƒ—ãƒ¬ãƒ¼ãƒ³HTTPã‚„ç¾åœ¨éæ¨å¥¨ã¨ãªã£ã¦ã„ã‚‹SSHãƒˆãƒ³ãƒãƒ«ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ãŸãã†ã€‚Konnectivityç™»å ´å¾Œã€&lt;strong>Kubernetes API Server ãŒã‚¯ãƒ©ã‚¹ã‚¿å†…éƒ¨ã«ç›´æ¥æ¥ç¶šã™ã‚‹ã“ã¨ãŒãªããªã£ãŸ&lt;/strong>ã“ã¨ã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã®åˆ†é›¢ãŒå¯èƒ½ã«ãªã‚Šã€ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’åˆ†å‰²ã—ã¦ç®¡ç†ã§ããŸã‚Šã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å¼·åŒ–ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚&lt;/p>
&lt;p>&lt;strong>konnectivity-agent-autoscaler&lt;/strong> ã¯ã€ä¸Šè¨˜ã® Konnectivity Agent ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’åˆ¶å¾¡ã™ã‚‹ã‚‚ã®ã ã¨èªè­˜ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://polar3130.hatenablog.com/entry/2023/05/26/173000" target="_blank" rel="noopener"
>https://polar3130.hatenablog.com/entry/2023/05/26/173000&lt;/a>&lt;br>
(å‚è€ƒã¨ã„ã†ã‹ã»ã¼å¼•ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸ)&lt;br>
&lt;a class="link" href="https://kubernetes.io/docs/concepts/architecture/control-plane-node-communication/#konnectivity-service" target="_blank" rel="noopener"
>https://kubernetes.io/docs/concepts/architecture/control-plane-node-communication/#konnectivity-service&lt;/a>&lt;/p>
&lt;h3 id="kube-dns">kube-dns&lt;/h3>
&lt;p>âœ… &lt;strong>GKE ã‚¯ãƒ©ã‚¹ã‚¿ã«å†…è”µã•ã‚Œã¦ã„ã‚‹ DNS ã‚µãƒ¼ãƒ&lt;/strong>&lt;/p>
&lt;p>&lt;strong>kube-dns&lt;/strong> ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ã‚³ãƒ³ãƒ†ãƒŠãŒåå‰è§£æ±ºã§ãã‚‹ã‚ˆã†DNSã®è¨­å®šã‚’è¡Œã†ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®DNSã‚µãƒ¼ãƒã§ã€Serviceã¨ã—ã¦å‹•ã„ã¦ã„ã‚‹ã€‚&lt;br>
ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã¯ä»¥ä¸‹ã€‚kube-dns Service ã¯ã€kube-dns Pod ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ã€å˜ä¸€ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆClusterIPï¼‰ã‚’å‰²ã‚ŠæŒ¯ã‚‹å½¹å‰²ã‚’æŒã£ã¦ãŠã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ã™ã¹ã¦ã® Pod ãŒã“ã® Service ã‚’ä½¿ç”¨ã—ã¦ DNS ã‚¯ã‚¨ãƒªã‚’è§£æ±ºã™ã‚‹ã€‚&lt;br>
&lt;strong>kube-dns-autoscaler&lt;/strong> ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ã® DNS å‡¦ç†ã«å¯¾å¿œã§ãã‚‹ã‚ˆã†ã« kube-dns ã‚’ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹å½¹å‰²ã‚’æŒã£ã¦ã„ã‚‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://blaaackard.com/p/gke-kubesystem-resource/kube-dns.png"
width="729"
height="332"
srcset="https://blaaackard.com/p/gke-kubesystem-resource/kube-dns_hu8c08fd8b2185451f1583140fee73e427_17040_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/kube-dns_hu8c08fd8b2185451f1583140fee73e427_17040_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£(å…¬å¼docã‹ã‚‰å¼•ç”¨)"
class="gallery-image"
data-flex-grow="219"
data-flex-basis="526px"
>&lt;/p>
&lt;p>å„ Pod ã® DNS è¨­å®šã¯ &lt;strong>kubelet&lt;/strong> ãŒè¡Œã£ã¦ãŠã‚Šã€kube-dns Service ã® IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å„ã‚³ãƒ³ãƒ†ãƒŠå†…ã®&lt;code>etc/resolv.conf&lt;/code>ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k get service kube-dns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span class="o">(&lt;/span>S&lt;span class="o">)&lt;/span> AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kube-dns ClusterIP 10.8.0.10 &amp;lt;none&amp;gt; 53/UDP,53/TCP 9h
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nameserver ã« kube-dns ã® CLUSTER-IPã§ã‚ã‚‹&lt;code>10.8.0.10&lt;/code>ãŒæ›¸ã„ã¦ã‚ã‚‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># cat /etc/resolv.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">search k8sgpt.svc.cluster.local svc.cluster.local cluster.local asia-northeast1-a.c.{hoge}.internal c.{hoge}.internal google.internal
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nameserver 10.8.0.10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">options ndots:5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://kubernetes.io/ja/docs/concepts/services-networking/dns-pod-service/" target="_blank" rel="noopener"
>https://kubernetes.io/ja/docs/concepts/services-networking/dns-pod-service/&lt;/a>&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/kube-dns?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/how-to/kube-dns?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://gadgeterkun.hatenablog.com/entry/20190630/1561864860" target="_blank" rel="noopener"
>https://gadgeterkun.hatenablog.com/entry/20190630/1561864860&lt;/a>&lt;br>
&lt;a class="link" href="https://amateur-engineer-blog.com/kubernetes-dns/" target="_blank" rel="noopener"
>https://amateur-engineer-blog.com/kubernetes-dns/&lt;/a>&lt;/p>
&lt;h3 id="l7-default-backend">l7-default-backend&lt;/h3>
&lt;p>âœ… &lt;strong>Ingress Controller ã®ã“ã¨&lt;/strong>&lt;/p>
&lt;p>GKE ã§ã¯ã€Ingress ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« HTTP(S) ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
GKE Ingress Controller ã«ã‚ˆã£ã¦ Cloud HTTP(S) ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãŒä½œæˆã•ã‚Œã€Ingress ãŠã‚ˆã³é–¢é€£ã™ã‚‹ Service ã®æƒ…å ±ã«å¾“ã£ã¦æ§‹æˆã‚’è¡Œã†ã€‚ã“ã® Ingress Controller ã® Pod ãŒ &lt;strong>l7-default-backend&lt;/strong> ã§ã€GKEã‚¯ãƒ©ã‚¹ã‚¿ã® HTTP ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ãŒã€Œæœ‰åŠ¹ã€ã«ãªã£ã¦ã„ã‚‹ã¨èµ·å‹•ã™ã‚‹ã€‚&lt;br>
ã“ã® Ingress Controller ãŒ NEG(Network Endpoint Groups:&lt;code>GCE_VM_IP_PORT&lt;/code>)ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã¦ç›´æ¥è² è·åˆ†æ•£ã‚’è¡Œã†ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã€å¾“æ¥ã«ãã‚‰ã¹ã¦ã‚³ãƒ³ãƒ†ãƒŠã«åˆ°é”ã™ã‚‹ã¾ã§ã®ãƒ›ãƒƒãƒ—æ•°ã‚’æ¸›ã‚‰ã—ã€ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ã®å‘ä¸ŠãŒæœŸå¾…ã§ãã‚‹ã€Œã‚³ãƒ³ãƒ†ãƒŠãƒã‚¤ãƒ†ã‚£ãƒ–ã®è² è·åˆ†æ•£ã€ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://blaaackard.com/p/gke-kubesystem-resource/lb-neg.png"
width="1438"
height="678"
srcset="https://blaaackard.com/p/gke-kubesystem-resource/lb-neg_huc078f036485567769935fe3250a4d861_94919_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/lb-neg_huc078f036485567769935fe3250a4d861_94919_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="å…¬å¼docã‹ã‚‰å¼•ç”¨"
class="gallery-image"
data-flex-grow="212"
data-flex-basis="509px"
>&lt;/p>
&lt;p>ã©ã‚“ã©ã‚“è©±ãŒå¤§ãããªã‚Šãã†ãªã®ã§ä¸€æ—¦ã“ã“ã¾ã§ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/ingress?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/concepts/ingress?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/container-native-load-balancing?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/concepts/container-native-load-balancing?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://qiita.com/ishii1648/items/a9804d96dea275ee28bd" target="_blank" rel="noopener"
>https://qiita.com/ishii1648/items/a9804d96dea275ee28bd&lt;/a>&lt;/p>
&lt;h3 id="metrics-server">metrics-server&lt;/h3>
&lt;p>âœ… &lt;strong>ã‚¯ãƒ©ã‚¹ã‚¿ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Metrics Server&lt;/strong> ã¯ Kubelet ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨çŠ¶æ³ã‚’åé›†ã—ã€Metrics API ã‚’é€šã˜ã¦ Kubernetes Api Server ã§å…¬é–‹ã™ã‚‹ã€‚ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨çŠ¶æ³ã‚’åé›†ã™ã‚‹ã“ã¨ã§ã€è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚„ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“ã«ãªã‚‹ã€‚&lt;/p>
&lt;p>Metrics API ã«ã¯ &lt;code>kubectl top&lt;/code>ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚&lt;br>
&lt;code>kubectl describe&lt;/code>ã‚³ãƒãƒ³ãƒ‰ã§ã¯ Pod ãŒç¢ºä¿ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèªã§ãã‚‹ã®ã«å¯¾ã—ã€ã“ã¡ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã¯&lt;strong>å®Ÿéš›ã« Pod å†…ã®ã‚³ãƒ³ãƒ†ãƒŠãŒä½¿ç”¨ã—ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ä½¿ç”¨é‡&lt;/strong>ãŒç¢ºèªã§ãã‚‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ kubectl top pod -n kube-system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME CPU&lt;span class="o">(&lt;/span>cores&lt;span class="o">)&lt;/span> MEMORY&lt;span class="o">(&lt;/span>bytes&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">event-exporter-gke-7bf6c99dcb-ddh8w 1m 20Mi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fluentbit-gke-sdpcc 6m 23Mi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://github.com/kubernetes-sigs/metrics-server" target="_blank" rel="noopener"
>https://github.com/kubernetes-sigs/metrics-server&lt;/a>&lt;br>
&lt;a target="_blank" href="https://www.amazon.co.jp/Kubernetes%25E5%25AE%258C%25E5%2585%25A8%25E3%2582%25AC%25E3%2582%25A4%25E3%2583%2589-%25E7%25AC%25AC2%25E7%2589%2588-Top-Gear-%25E9%259D%2592%25E5%25B1%25B1/dp/4295009792?&amp;_encoding=UTF8&amp;tag=blaaackard04-22&amp;linkCode=ur2&amp;linkId=2ff724fb2dfe8348672a1ebc4673ed32&amp;camp=247&amp;creative=1211">Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ ç¬¬2ç‰ˆ (Top Gear)&lt;/a>&lt;/p>
&lt;h2 id="daemonset">Daemonset&lt;/h2>
&lt;p>å…¨ã¦ã® Node ã§å‹•ãã¹ã Pod ã‚’å®šç¾©ã™ã‚‹ã®ãŒ Daemonset ã€‚&lt;br>
ç›£è¦–ã‚„ãƒ­ã‚°åé›†ã‚’è¡Œã†ãƒ‡ãƒ¼ãƒ¢ãƒ³ç­‰ãŒã‚ã‚Šã¾ã™ã€‚è»½ãè§¦ã‚Œã¦ã„ãã¾ã™ã€‚&lt;/p>
&lt;h3 id="fluentbit-gke">fluentbit-gke&lt;/h3>
&lt;p>âœ… &lt;strong>å„ Node ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ­ã‚°ã‚’ Cloud Logging ã«è»¢é€ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>GKE ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆã™ã‚‹ã¨ã€Cloud Logging ãŠã‚ˆã³ Cloud Monitoring ã¨ Cloud Operations for GKE ã¨ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã‚‹ã€‚&lt;br>
ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ­ã‚°ã¯ã€Cloud Logging ã®ãƒ­ã‚°ãƒ«ãƒ¼ã‚¿ãƒ¼ã«é…ä¿¡ã•ã‚Œã€Cloud Logging ã«å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã‹ã€é™¤å¤–ã•ã‚Œã‚‹ã‹ã€BigQueryã€Pub/Subã€Cloud Storage ç­‰ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã€‚&lt;br>
ã‚·ã‚¹ãƒ†ãƒ  ãƒ­ã‚®ãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€fluentbit ãƒ™ãƒ¼ã‚¹ã®å°‚ç”¨ã® Logging ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã‚ã‚‹ &lt;strong>fluentbit-gke&lt;/strong> ãŒ å„ãƒãƒ¼ãƒ‰ã«è‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã€ãƒ­ã‚°ã‚’ Cloud Logging ã«é€ä¿¡ã™ã‚‹ã€‚&lt;/p>
&lt;p>GKE Standard ã«ãŠã‘ã‚‹ Node ã‚ãŸã‚Šã® Pod æ•°ä¸Šé™ã¯ 110 ã ã£ãŸãŒã€2022 å¹´ 8 æœˆã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ 256 ã¾ã§å¼•ãä¸Šã’ã‚‰ã‚ŒãŸã€‚ &lt;strong>fluentbit-gke-256pd&lt;/strong> ã¯ãã‚Œã«å¯¾å¿œã™ã‚‹ã‚‚ã®ã¨ã„ã†èªè­˜ã€‚&lt;br>
ã„ãšã‚Œã‹ã® GKE ãƒãƒ¼ãƒ‰ã§ 1 ç§’ã‚ãŸã‚Š 100 KiB ã‚’è¶…ãˆã‚‹ãƒ­ã‚° ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒå¿…è¦ãªå ´åˆã¯ã€é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆç‰ˆã® &lt;strong>fluentbit-gke-max&lt;/strong> ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒãƒ¼ãƒ‰ã”ã¨ã« 1 ç§’ã‚ãŸã‚Š 10 MiB ã¨ã„ã†é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://polar3130.hatenablog.com/entry/2022/08/18/180500" target="_blank" rel="noopener"
>https://polar3130.hatenablog.com/entry/2022/08/18/180500&lt;/a>&lt;br>
&lt;a class="link" href="https://polar3130.hatenablog.com/entry/2022/09/21/090000" target="_blank" rel="noopener"
>https://polar3130.hatenablog.com/entry/2022/09/21/090000&lt;/a>&lt;/p>
&lt;h3 id="gke-metrics-agent">gke-metrics-agent&lt;/h3>
&lt;p>âœ… &lt;strong>Cloud Monitoring ã«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’é€ä¿¡ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>Cloud Monitoring ã«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å–ã‚Šè¾¼ã‚€ã“ã¨ã§ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã®è¡¨ç¤ºã‚„ã‚¢ãƒ©ãƒ¼ãƒˆã®ç”Ÿæˆã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã€‚&lt;strong>gke-metrics-agent&lt;/strong> ã¯å„ãƒãƒ¼ãƒ‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ Cloud Monitoring ã«é€ä¿¡ã™ã‚‹å½¹å‰²ã‚’æŒã¤ã€‚&lt;br>
gke-metrics-agent-scaling-10 ã‚„ gke-metrics-agent-scaling-100 ãŒã‚ã‚‹ãŒã€æ•°å­—ã¯è¿½åŠ ã™ã‚‹ãƒ¡ãƒ¢ãƒªé‡(MB)ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-metrics?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/stackdriver/docs/solutions/gke/managing-metrics?hl=ja&lt;/a>&lt;/p>
&lt;h3 id="kube-proxy">kube-proxy&lt;/h3>
&lt;p>âœ… &lt;strong>Service ãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã—ã€ãƒãƒ¼ãƒ‰ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’è¡Œã†&lt;/strong>&lt;/p>
&lt;p>&lt;strong>kube-proxy&lt;/strong> ã¯ kubelet ã¨åŒã˜ãã€å„Nodeä¸Šã§å‹•ä½œã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚Service ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆ/æ›´æ–°/å‰Šé™¤ã‚’æ¤œçŸ¥ã—ãŸéš›ã«ã€Node ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’è¡Œã†ã“ã¨ã§ã€ ClusterIP ã‚„ NodePort å®›ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ãŒ Pod ã«æ­£å¸¸ã«è»¢é€ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚&lt;br>
3ã¤ã®è»¢é€æ–¹å¼ãŒã‚ã‚‹ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ iptables ã‚’æ§‹æˆã™ã‚‹ iptables ãƒ¢ãƒ¼ãƒ‰ã€‚&lt;br>
ä»¥ä¸‹å‚è€ƒãƒšãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„ã€‚&lt;/p>
&lt;p>å‚è€ƒ:
&lt;a class="link" href="https://qiita.com/nozmiz/items/9a74433258a79be26c36" target="_blank" rel="noopener"
>https://qiita.com/nozmiz/items/9a74433258a79be26c36&lt;/a>&lt;br>
&lt;a class="link" href="https://recruit.gmo.jp/engineer/jisedai/blog/kubernetes_service/" target="_blank" rel="noopener"
>https://recruit.gmo.jp/engineer/jisedai/blog/kubernetes_service/&lt;/a>&lt;/p>
&lt;h3 id="metadata-proxy">metadata-proxy&lt;/h3>
&lt;p>âœ… &lt;strong>ã‚³ãƒ³ãƒ†ãƒŠãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã«éš è”½ã•ã‚ŒãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>GKE ã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ VM ã‚’æ§‹æˆã™ã‚‹ãŒã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¸€éƒ¨ã¯æ©Ÿå¯†æ€§ãŒé«˜ãã‚¯ãƒ©ã‚¹ã‚¿ã§å®Ÿè¡Œä¸­ã®ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰ä¿è­·ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚&lt;br>
&lt;strong>metadata-proxy&lt;/strong>ã¯ã“ã®å½¹å‰²ã‚’æŒã¤ã‚‚ã®ã ãŒã€ç¾åœ¨ã§ã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿éš è”½ã¯éæ¨å¥¨ã¨ãªã£ã¦ãŠã‚Šã€&lt;strong>Workload Identity&lt;/strong> ã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/protecting-cluster-metadata?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/how-to/protecting-cluster-metadata?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/GoogleCloudPlatform/k8s-metadata-proxy" target="_blank" rel="noopener"
>https://github.com/GoogleCloudPlatform/k8s-metadata-proxy&lt;/a>&lt;/p>
&lt;h3 id="nccl-fastsocket-installer">nccl-fastsocket-installer&lt;/h3>
&lt;p>âœ… &lt;strong>NVIDIAãŒæä¾›ã™ã‚‹ãƒãƒ«ãƒGPUå‘ã‘ã®é›†åˆé€šä¿¡ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹&lt;/strong>&lt;/p>
&lt;p>NCCLã¯ã€NVIDIAãŒæä¾›ã™ã‚‹ãƒãƒ«ãƒGPUå‘ã‘ã®é›†åˆé€šä¿¡ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€TensorFlow ã‚„ PyTorch ãªã©ã®ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ãƒãƒ«ãƒ GPU ã‚„ãƒãƒ«ãƒãƒãƒ¼ãƒ‰ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’è¡Œã†å ´åˆã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚&lt;br>
&lt;strong>nccl-fastsocket-installer&lt;/strong> ã¯ã€ã“ã‚Œã‚‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆå±¤ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‰ã—ã„ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://github.com/google/nccl-fastsocket" target="_blank" rel="noopener"
>https://github.com/google/nccl-fastsocket&lt;/a>
&lt;a class="link" href="https://cloud.google.com/compute/docs/gpus/optimize-gpus?hl=ja#fast-socket" target="_blank" rel="noopener"
>https://cloud.google.com/compute/docs/gpus/optimize-gpus?hl=ja#fast-socket&lt;/a>&lt;/p>
&lt;h3 id="nvidia-gpu-device-plugin">nvidia-gpu-device-plugin&lt;/h3>
&lt;p>âœ… &lt;strong>NVIDIAè£½ã®GPUã‚’ã‚¯ãƒ©ã‚¹ã‚¿ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹&lt;/strong>&lt;/p>
&lt;p>Device Plugins ã¨ã¯æ§˜ã€…ãªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’ kubelet ã«è¦‹ã›ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã€‚&lt;br>
GKEä¸Šã§ã¯ã€NVIDIA TeslaÂ® GPUï¼ˆK80ã€P100ã€P4ã€V100ã€T4ã€L4ã€A100ï¼‰ã‚’è£…å‚™ã—ãŸãƒãƒ¼ãƒ‰ãƒ—ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã€ç”»åƒèªè­˜ã‚„è‡ªç„¶è¨€èªå‡¦ç†ç­‰ã®ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã«å¿…è¦ãªè¨ˆç®—èƒ½åŠ›ã‚’æä¾›ã™ã‚‹ã€‚
&lt;strong>nvidia-gpu-device-plugin&lt;/strong> ã¯GKEä¸Šã§ NVIDIA è£½ã® GPU ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«å¿…è¦ãª plugin ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/gpus?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/how-to/gpus?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://speakerdeck.com/extendwings/device-pluginkai-fa-ru-men" target="_blank" rel="noopener"
>https://speakerdeck.com/extendwings/device-pluginkai-fa-ru-men&lt;/a>&lt;br>
&lt;a class="link" href="https://kubernetes.io/ja/docs/tasks/manage-gpus/scheduling-gpus/" target="_blank" rel="noopener"
>https://kubernetes.io/ja/docs/tasks/manage-gpus/scheduling-gpus/&lt;/a>&lt;/p>
&lt;h3 id="pdcsi-node">pdcsi-node&lt;/h3>
&lt;p>âœ… &lt;strong>Compute Engine æ°¸ç¶šãƒ‡ã‚£ã‚¹ã‚¯ã® CSI ãƒ‰ãƒ©ã‚¤ãƒ&lt;/strong>&lt;/p>
&lt;p>GKE ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã‚¯ãƒ©ã‚¹ã‚¿ã¸ç°¡å˜ã‹ã¤è‡ªå‹•çš„ã« Compute Engine æ°¸ç¶šãƒ‡ã‚£ã‚¹ã‚¯ Container Storage Interfaceï¼ˆCSIï¼‰ãƒ‰ãƒ©ã‚¤ãƒã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚æ¨™æº–ã‚¯ãƒ©ã‚¹ã‚¿ã§ã¯ã€Compute Engine æ°¸ç¶šãƒ‡ã‚£ã‚¹ã‚¯ã® CSI ãƒ‰ãƒ©ã‚¤ãƒã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚&lt;/p>
&lt;p>è©³ã—ãèª¿ã¹ã¦ãªã„ãŒã€&lt;code>csi-node-driver-registrar&lt;/code>ã¨&lt;code>gcp-compute-persistent-disk-csi-driver&lt;/code>ã¨ã„ã† Image ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€ã“ã‚Œã‚‰ã«é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã ã¨æ€ã‚ã‚Œã‚‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ kubectl describe daemonsets pdcsi-node --namespace&lt;span class="o">=&lt;/span>kube-system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Pod Template:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Labels: k8s-app&lt;span class="o">=&lt;/span>gcp-compute-persistent-disk-csi-driver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Annotations: components.gke.io/component-name: pdcsi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> components.gke.io/component-version: 0.16.14
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Service Account: pdcsi-node-sa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Containers:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> csi-driver-registrar:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Image: gke.gcr.io/csi-node-driver-registrar:v2.8.0-gke.4@sha256:715a1581ce158fbf95f7ca351e25c7d6a0a1599e46e270e72238cc8a0aef1c43
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> gce-pd-driver:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Image: gke.gcr.io/gcp-compute-persistent-disk-csi-driver:v1.10.7-gke.0@sha256:a3e4af6b6f6999427dc7b02e813aa1ca5f26e73357c92a77b8fe774ddf431a26
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è©³ã—ãã¯ä»¥ä¸‹ã®å‚è€ƒãƒšãƒ¼ã‚¸ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver?hl=ja" target="_blank" rel="noopener"
>https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver?hl=ja&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver" target="_blank" rel="noopener"
>https://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver&lt;/a>&lt;/p>
&lt;h3 id="runsc-metric-server">runsc-metric-server&lt;/h3>
&lt;p>ã‚ã¾ã‚Šè‰¯ãã‚ã‹ã£ã¦ãªã„ãŒã€ä»¥ä¸‹ã®å‚è€ƒã‚µã‚¤ãƒˆã¨é–¢é€£ã‚ã‚Šãã†ã€‚&lt;/p>
&lt;p>å‚è€ƒ:&lt;br>
&lt;a class="link" href="https://gvisor.dev/docs/user_guide/observability/" target="_blank" rel="noopener"
>https://gvisor.dev/docs/user_guide/observability/&lt;/a>&lt;/p>
&lt;h3 id="tpu-device-plugin">tpu-device-plugin&lt;/h3>
&lt;p>èª¿ã¹ã¦ã‚‚ã‚ã¾ã‚Šæƒ…å ±ãŒå‡ºã¦ã“ãªã‹ã£ãŸãŒã€nvidia-gpu-device-plugin ã¨åŒæ§˜ã« GKEä¸Šã§ TPU ã‚’å®Ÿè¡Œã—ãŸã„å ´åˆã«å¿…è¦ãª plugin ã ã¨èªè­˜ã€‚&lt;/p>
&lt;h1 id="ã¾ã¨ã‚">ã¾ã¨ã‚&lt;/h1>
&lt;p>ä»Šå›ã¯ Namespace ã€Œkube-systemã€ ã«ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ãŒã©ã®ã‚ˆã†ãªå½¹å‰²ã‚’æŒã£ã¦ã„ã‚‹ã®ã‹ãƒ¡ãƒ¢ãƒ™ãƒ¼ã‚¹ã§ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚ãªã‚“ã¨ãªãã®ç†è§£ãŒãƒãƒƒã‚­ãƒªã—ãŸç†è§£ã«å¤‰ã‚ã£ãŸã‚Šã€æ–°ã—ãå¾—ãŸçŸ¥è­˜ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚&lt;br>
ã¾ã ã¾ã åˆ†ã‹ã‚‰ãªã„ã“ã¨ã ã‚‰ã‘ã§ã™ãŒä¸€ã¤ãšã¤æ½°ã—ã¦ã„ããŸã„ã§ã™ã€‚&lt;br>
ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚&lt;/p></description></item><item><title>K8sGPTã‚’ä½¿ã£ã¦ã‚¯ãƒ©ã‚¹ã‚¿ã®AIåˆ†æã‚’ã—ã¦ã¿ã‚ˆã†</title><link>https://blaaackard.com/p/k8s-gpt/</link><pubDate>Sat, 07 Oct 2023 00:17:43 +0900</pubDate><guid>https://blaaackard.com/p/k8s-gpt/</guid><description>&lt;img src="https://blaaackard.com/p/k8s-gpt/cover.png" alt="Featured image of post K8sGPTã‚’ä½¿ã£ã¦ã‚¯ãƒ©ã‚¹ã‚¿ã®AIåˆ†æã‚’ã—ã¦ã¿ã‚ˆã†" />&lt;h1 id="æœ€åˆã«">æœ€åˆã«&lt;/h1>
&lt;p>&lt;strong>çš†ã•ã‚“ã€&amp;ldquo;K8sGPT&amp;rdquo; çŸ¥ã£ã¦ã„ã¾ã™ã‹ï¼Ÿä½¿ã£ãŸã“ã¨ã‚ã‚Šã¾ã™ã‹ï¼Ÿ&lt;/strong>&lt;br>
GitHub: &lt;a class="link" href="https://github.com/k8sgpt-ai/k8sgpt/tree/main" target="_blank" rel="noopener"
>https://github.com/k8sgpt-ai/k8sgpt/tree/main&lt;/a>&lt;/p>
&lt;p>Cloud Native Days FUKUOKA 2023ã«å‚åŠ ã—ãŸéš›ã«ã€K8sGPTã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è´è¬›ã—ã¦èˆˆå‘³ã‚’æŒã£ãŸã®ã§å®Ÿéš›ã«è§¦ã£ã¦ã¿ã¾ã—ãŸã€‚&lt;br>
ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±: &lt;a class="link" href="https://event.cloudnativedays.jp/cndf2023/talks/1885" target="_blank" rel="noopener"
>https://event.cloudnativedays.jp/cndf2023/talks/1885&lt;/a>&lt;/p>
&lt;p>K8sGPT ã¯ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®å•é¡Œã‚’æ¢ç´¢ã—ã€è©•ä¾¡ã€è§£èª¬ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚&lt;br>
ã‚·ã‚¹ãƒ†ãƒ ä¿¡é ¼æ€§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°(SRE)ã®å°‚é–€çŸ¥è­˜ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªçŸ¥è­˜ã«è‡ªä¿¡ãŒãªã„äººã§ã‚‚å®¹æ˜“ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;br>
å®Ÿè¡Œè‡ªä½“ã¯æœ¬å½“ã«ã‚·ãƒ³ãƒ—ãƒ«ã§&lt;code>k8sgpt analyze&lt;/code>ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã ã‘ã§å®Ÿè¡Œã§ãã¾ã™ã€‚&lt;/p>
&lt;p>&lt;strong>å®Ÿéš›ã«ã‚¯ãƒ©ã‚¹ã‚¿ã«å•é¡Œã‚’ç™ºç”Ÿã•ã›ã¦æ¤œçŸ¥ã—ã¦ã‚‚ã‚‰ã„ã¾ã—ã‚‡ã†ï¼&lt;/strong>&lt;/p>
&lt;h2 id="ã‚¯ãƒ©ã‚¹ã‚¿ã¨å•é¡Œãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®ä½œæˆ">ã‚¯ãƒ©ã‚¹ã‚¿ã¨å•é¡Œãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®ä½œæˆ&lt;/h2>
&lt;p>Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ã®ä½œæˆãŒå¿…è¦ãªæ–¹ã¯ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚&lt;br>
ã¾ãŸã€K8sGPTã«å•é¡Œã‚’æ¤œçŸ¥ã•ã›ã‚‹ãŸã‚ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’æº–å‚™ã—ã¾ã™ã€‚&lt;br>
ä»Šå›ã¯ãƒãƒ¼ãƒ‰ã®å‰²å½“å¯èƒ½CPUã‚’è¶…éã•ã›ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚’ChatGPTã«ä½œã£ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸğŸ¤–&lt;/p>
&lt;details>
&lt;summary>sample.yaml&lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8sgpt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-container&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;128Mi&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;500m&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8sgpt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/details>
&lt;h2 id="cliã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«">CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/h2>
&lt;p>æ—©é€ŸREADMEã«è¨˜è¼‰ã®é€šã‚Šbrewã§å…¥ã‚Œã¦ã„ãã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ brew tap k8sgpt-ai/k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â¯ brew install k8sgpt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="apiã‚­ãƒ¼ã®ç™ºè¡Œ">APIã‚­ãƒ¼ã®ç™ºè¡Œ&lt;/h2>
&lt;p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã‚‰APIã‚­ãƒ¼ã‚’ç™ºè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;br>
&lt;code>k8sgpt generate&lt;/code>ã‚’æ‰“ã¤ã¨OpenAIã®ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¾ã—ãŸã€‚&lt;/p>
&lt;p>ğŸš¨&lt;strong>OpenAIã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãŒå¿…è¦ã§ã™ã€‚&lt;/strong>&lt;br>
ğŸš¨&lt;strong>å¾Œç¶šã®åˆ†æã§ã¯CreditãŒå¿…è¦ã«ãªã‚Šã¾ã™(Min5$ã‹ã‚‰è³¼å…¥ã§ãã¾ã™)ã€‚&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Opening: https://beta.openai.com/account/api-keys to generate a key for openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Please copy the generated key and run `k8sgpt auth` to add it to your config file&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blaaackard.com/p/k8s-gpt/API-key-1.png"
width="2852"
height="1374"
srcset="https://blaaackard.com/p/k8s-gpt/API-key-1_huef6826745648d9dc18648c35edd8417f_320845_480x0_resize_box_3.png 480w, https://blaaackard.com/p/k8s-gpt/API-key-1_huef6826745648d9dc18648c35edd8417f_320845_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="api-keyç™ºè¡Œç”»é¢"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="498px"
>&lt;/p>
&lt;p>&lt;code>+ Create new secret key&lt;/code>ã‚’æŠ¼ã™ã¨ã‚­ãƒ¼ã®åå‰ã‚’å…¥åŠ›ã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒå‡ºã¦ãã‚‹ã®ã§ã€é©å½“ãªåå‰ã‚’å…¥åŠ›ã—ã¦&lt;code>Create secret key&lt;/code>ã‚’æŠ¼ã—ã¾ã™ã€‚&lt;br>
ã‚­ãƒ¼ãŒç™ºè¡Œã•ã‚Œã‚‹ã®ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚&lt;/p>
&lt;h2 id="providerã®è¨­å®š">Providerã®è¨­å®š&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt auth add -b openai -m gpt-3.5-turbo -p &lt;span class="o">{&lt;/span>COPYã—ãŸAPIã‚­ãƒ¼&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># openai added to the AI backend provider list&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã“ã“ã§ã„ã† -bã¯ã€Œbackend AI providerã€-mã¯ã€Œbackend AI modelã€ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚&lt;br>
READMEé€šã‚Šã®&lt;code>k8sgpt auth add&lt;/code>ã ã‘ã ã¨&lt;code>k8sgpt analyze&lt;/code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦åˆ†æè‡ªä½“ã¯ã§ãã‚‹ã®ã§ã™ãŒã€explainã‚„Filterã‚’ä½¿ãŠã†ã¨ã™ã‚‹ã¨æ€’ã‚‰ã‚ŒãŸã®ã§æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt auth add
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Warning: backend input is empty, will use the default value: openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Warning: model input is empty, will use the default value: gpt-3.5-turbo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enter openai Key: &lt;span class="c1"># openai added to the AI backend provider list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â¯ k8sgpt analyze --explain --namespace&lt;span class="o">=&lt;/span>k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 0% | (0/12, 0 it/hr) [0s:0s]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Error: failed while calling AI provider openai: error, status code: 400, message: you must provide a model parameter&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã¡ãªã¿ã«ä»Šå›ã¯OpenAIã‚’æŒ‡å®šã—ã¾ã—ãŸãŒã€ã‚ªãƒ©ã‚¯ãƒ«ãŒæ”¯æ´ã™ã‚‹Cohereç­‰ã‚‚ä½¿ãˆãã†ã§ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt auth list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Default:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Active:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Unused:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; localai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; azureopenai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; noopai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># &amp;gt; cohere&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ã„ã–åˆ†æ">ã„ã–åˆ†æï¼&lt;/h2>
&lt;p>åˆ†æè‡ªä½“ã¯&lt;code>k8sgpt analyze&lt;/code>ã‚’ãŸãŸãã ã‘ã§ã™ã€‚&lt;br>
&amp;ndash;namespace={NAME} ã‚„ &amp;ndash;filter=Pod ãªã©çµã‚Šè¾¼ã¿ã‚‚ã§ãã¾ã™ã€‚&lt;br>
Serviceã¯ãƒ©ãƒ™ãƒ«ã‚’è²¼ã‚ã†ã¨è¨€ã‚ã‚Œã¦ãŠã‚Šã€Deploymentã¯CPUãƒªã‚½ãƒ¼ã‚¹ãŒä¸è¶³ã—ã¦ã„ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚&lt;br>
ã¡ã‚ƒã‚“ã¨CPUã«é–¢ã™ã‚‹åˆ†æçµæœãŒå‡ºåŠ›ã•ã‚Œã¦å®‰å¿ƒã—ã¾ã—ãŸâœŒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt analyze --namespace&lt;span class="o">=&lt;/span>k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># AI Provider: openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 0 k8sgpt/faulty-service(faulty-service)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: Service has no endpoints, expected label app=faulty-app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1 k8sgpt/faulty-deployment-6879cc8f7f-cntv2(Deployment/faulty-deployment)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: 0/2 nodes are available: 2 Insufficient cpu. preemption: 0/2 nodes are available: 2 No preemption victims found for incoming pod..&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&amp;ndash;explain ã‚’ã¤ã‘ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€å•é¡Œã®ã‚ˆã‚Šè©³ç´°ãªèª¬æ˜ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt analyze --explain --namespace&lt;span class="o">=&lt;/span>k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| (4/4, 12 it/min)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># AI Provider: openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 0 k8sgpt/faulty-service(faulty-service)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: Service has no endpoints, expected label app=faulty-app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Error: The service has no endpoints and it is expecting the label app=faulty-app.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Solution:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. Check the labels of the faulty-app deployment.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. Make sure the labels match the selector in the service definition.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. Update the labels if necessary.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. Restart the deployment and service to apply the changes.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1 k8sgpt/faulty-deployment-6879cc8f7f-cntv2(Deployment/faulty-deployment)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: 0/2 nodes are available: 2 Insufficient cpu. preemption: 0/2 nodes are available: 2 No preemption victims found for incoming pod..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Error: 0/2 nodes are available: 2 Insufficient cpu. preemption: 0/2 nodes are available: 2 No preemption victims found for incoming pod..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Solution:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. Check the resource requirements of the pod.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. Increase the CPU limits or request values in the pod&amp;#39;s configuration.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. Ensure that the cluster has enough available CPU resources.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. If necessary, add more nodes to the cluster.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 5. Retry deploying the pod.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>-l Japanese ã‚’ã¤ã‘ã‚‹ã“ã¨ã§æ—¥æœ¬èªåŒ–ã‚‚ã§ãã¡ã‚ƒã„ã¾ã™ã€‚&lt;br>
ã€ŒçŠ ç‰²è€…ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã€&amp;hellip;æ©Ÿæ¢°çš„ãªç¿»è¨³ã«ãªã£ã¦ã¾ã™ãŒæ„å‘³ã¯ç†è§£ã§ãã¾ã™ã­ğŸ™†â€â™‚ï¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt analyze --explain -l Japanese --namespace&lt;span class="o">=&lt;/span>k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| (4/4, 9 it/min)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># AI Provider: openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 0 k8sgpt/faulty-service(faulty-service)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: Service has no endpoints, expected label app=faulty-app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Error: ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ©ãƒ™ãƒ«app=faulty-appãŒæœŸå¾…ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Solution:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. kubectl get svcã‚’ä½¿ç”¨ã—ã¦ç¾åœ¨ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. kubectl label svc &amp;lt;service-name&amp;gt; app=faulty-appã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. kubectl get endpointsã‚’ä½¿ç”¨ã—ã¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒæ­£ã—ãè¿½åŠ ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1 k8sgpt/faulty-deployment-6879cc8f7f-cntv2(Deployment/faulty-deployment)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - Error: 0/2 nodes are available: 2 Insufficient cpu. preemption: 0/2 nodes are available: 2 No preemption victims found for incoming pod..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Error: 0/2 ãƒãƒ¼ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã§ã™: 2 CPU ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚ãƒ—ãƒªã‚¨ãƒ³ãƒ—ã‚·ãƒ§ãƒ³: 0/2 ãƒãƒ¼ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã§ã™: 2 å…¥åŠ›ãƒãƒƒãƒ‰ã®ãƒ—ãƒªã‚¨ãƒ³ãƒ—ã‚·ãƒ§ãƒ³ã®çŠ ç‰²è€…ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Solution:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒãƒ¼ãƒ‰ã® CPU ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ãƒãƒ¼ãƒ‰ãŒååˆ†ãª CPU ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. ã‚‚ã—ãã¯ã€ãƒãƒƒãƒ‰ã® CPU ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ãŸã¯åˆ¶é™ã‚’èª¿æ•´ã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. ã‚‚ã—ãã¯ã€ä»–ã®ãƒãƒ¼ãƒ‰ã«ãƒãƒƒãƒ‰ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¾ã™ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å•é¡Œã‚’ä¿®æ­£ã—ã¦å†ãƒ‡ãƒ—ãƒ­ã‚¤">å•é¡Œã‚’ä¿®æ­£ã—ã¦å†ãƒ‡ãƒ—ãƒ­ã‚¤&lt;/h2>
&lt;p>K8sGPTã®åˆ†æçµæœã‚’å‚è€ƒã«ä»¥ä¸‹ã®ä¿®æ­£ã‚’è¡Œã„ã¾ã™ã€‚&lt;/p>
&lt;ul>
&lt;li>faulty-serviceã«ãƒ©ãƒ™ãƒ«ã‚’è²¼ã‚‹&lt;br>
(Solutionã§ã‚³ãƒãƒ³ãƒ‰ä¾‹ã‚’å‡ºåŠ›ã—ã¦ãã‚Œã¦ã‚‹ã®ã§ãã‚Œé€šã‚Šã«å®Ÿè¡Œã—ã¾ã™ã€‚)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ kubectl label svc faulty-service &lt;span class="nv">app&lt;/span>&lt;span class="o">=&lt;/span>faulty-app -n k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># service/faulty-service labeled&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>faulty-deploymentã®CPUãƒªã‚½ãƒ¼ã‚¹ãƒªãƒŸãƒƒãƒˆå€¤ã‚’Nodeã®å‰²å½“å¯èƒ½ãªå¤§ãã•ã¾ã§ä¸‹ã’ã‚‹&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">faulty-container&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;128Mi&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;500m&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># &amp;gt;&amp;gt;&amp;#34;50m&amp;#34;ã«å¤‰æ›´&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†åº¦åˆ†æã‚’ã™ã‚‹ã¨ã€ã€ã€å•é¡ŒãŒãªããªã‚Šã¾ã—ãŸğŸ‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â¯ k8sgpt analyze --explain -n k8sgpt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#AI Provider: openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#No problems detected&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="ã¾ã¨ã‚">ã¾ã¨ã‚&lt;/h1>
&lt;p>ä»Šå›ã¯Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ã«å•é¡Œã‚’ç™ºç”Ÿã•ã›ã€å®Ÿéš›ã«K8sGPTã‚’ä½¿ç”¨ã—ã¦å•é¡Œã‚’åˆ†æã—ã€ä¿®æ­£ã¾ã§ã‚’ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚&lt;br>
ç°¡å˜ã«ã‚¯ãƒ©ã‚¹ã‚¿ã®åˆ†æãŒã§ãã‚‹ã“ã¨ãŒãŠåˆ†ã‹ã‚Šã„ãŸã ã‘ãŸã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ï¼&lt;br>
ä»Šå›ã¯å°è¦æ¨¡ã‚¯ãƒ©ã‚¹ã‚¿ ã‹ã¤ Namespace ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‹ã‘ã¦æ„å›³çš„ã«åˆ†æçµæœã‚’å‡ºã—ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸãŒã€å¤§è¦æ¨¡ã‚¯ãƒ©ã‚¹ã‚¿ã®å…¨ä½“æ¤œç´¢ã¨ã‹ã—ã¦ã¿ã‚‹ã¨ä¸é©åˆ‡ãªè¨­å®šå€¤ã®ã¾ã¾æ”¾ç½®ã•ã‚Œã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ç™ºè¦‹ç­‰ãŒã§ããã†ã§ã™ã­ï¼&lt;br>
K8sGPTã¯ã¾ã ãã“ã¾ã§ä¸€èˆ¬çš„ã«ãªã£ã¦ã„ã¾ã›ã‚“ãŒã€ç©æ¥µçš„ãªé–‹ç™ºãŒé€²ã‚“ã§ã„ã¾ã™ã€‚ä»Šå¾Œã®KubernetesÃ—AIã®è©±é¡Œã«ã¯æ³¨ç›®ã§ã™ã­ğŸ‘€&lt;/p>
&lt;p>æœ€å¾Œã¾ã§èª­ã‚“ã§ãã ã•ã‚Šã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚&lt;/p></description></item></channel></rss>