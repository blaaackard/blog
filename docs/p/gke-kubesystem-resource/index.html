<!DOCTYPE html>
<html lang="ja" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='„ÅÇ„Åæ„ÇäÊÑèË≠ò„Åó„Å¶„Åì„Å™„Åã„Å£„Åü kube-system „ÇíË¶ó„Åç„Å´„ÅÑ„ÅèüëÅ'>
<title>GKE „ÅÆ kube-system „É™„ÇΩ„Éº„Çπ„Çí„Åñ„Å£„Åè„ÇäÁêÜËß£„Åô„Çã</title>

<link rel='canonical' href='https://blaaackard.com/p/gke-kubesystem-resource/'>

<link rel="stylesheet" href="https://blaaackard.com/scss/style.min.20283f2bf7c64b49e43800f217fe7b1a7a3119e863321c52ce0e477d1175e164.css"><meta property='og:title' content='GKE „ÅÆ kube-system „É™„ÇΩ„Éº„Çπ„Çí„Åñ„Å£„Åè„ÇäÁêÜËß£„Åô„Çã'>
<meta property='og:description' content='„ÅÇ„Åæ„ÇäÊÑèË≠ò„Åó„Å¶„Åì„Å™„Åã„Å£„Åü kube-system „ÇíË¶ó„Åç„Å´„ÅÑ„ÅèüëÅ'>
<meta property='og:url' content='https://blaaackard.com/p/gke-kubesystem-resource/'>
<meta property='og:site_name' content='Penta&#39;s TechBlog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Kubernetes' /><meta property='article:tag' content='Google Cloud' /><meta property='article:tag' content='GKE' /><meta property='article:published_time' content='2023-10-08T15:38:34&#43;09:00'/><meta property='article:modified_time' content='2023-10-08T15:38:34&#43;09:00'/><meta property='og:image' content='https://blaaackard.com/p/gke-kubesystem-resource/cover.png' />
<meta name="twitter:title" content="GKE „ÅÆ kube-system „É™„ÇΩ„Éº„Çπ„Çí„Åñ„Å£„Åè„ÇäÁêÜËß£„Åô„Çã">
<meta name="twitter:description" content="„ÅÇ„Åæ„ÇäÊÑèË≠ò„Åó„Å¶„Åì„Å™„Åã„Å£„Åü kube-system „ÇíË¶ó„Åç„Å´„ÅÑ„ÅèüëÅ"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://blaaackard.com/p/gke-kubesystem-resource/cover.png' />
    <link rel="shortcut icon" href="https://blaaackard.com/img/favicon.ico" />


    <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-6003CC5K8B');
    </script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="https://blaaackard.com/">
                
                    
                    
                    
                        
                        <img src="https://blaaackard.com/img/avatar_hud9397d267f3637cdf0b671d3c0947f4d_2718_300x0_resize_box_3.png" width="300"
                            height="414" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="https://blaaackard.com/">Penta&#39;s TechBlog</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://twitter.com/BlaaacKard'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='https://blaaackard.com/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://blaaackard.com/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://blaaackard.com/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://blaaackard.com/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='' target="_blank">
                
                
                
                <span></span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#deployment">Deployment</a>
      <ol>
        <li><a href="#event-exporter-gke">event-exporter-gke</a></li>
        <li><a href="#konnectivity-agent">konnectivity-agent</a></li>
        <li><a href="#kube-dns">kube-dns</a></li>
        <li><a href="#l7-default-backend">l7-default-backend</a></li>
        <li><a href="#metrics-server">metrics-server</a></li>
      </ol>
    </li>
    <li><a href="#daemonset">Daemonset</a>
      <ol>
        <li><a href="#fluentbit-gke">fluentbit-gke</a></li>
        <li><a href="#gke-metrics-agent">gke-metrics-agent</a></li>
        <li><a href="#kube-proxy">kube-proxy</a></li>
        <li><a href="#metadata-proxy">metadata-proxy</a></li>
        <li><a href="#nccl-fastsocket-installer">nccl-fastsocket-installer</a></li>
        <li><a href="#nvidia-gpu-device-plugin">nvidia-gpu-device-plugin</a></li>
        <li><a href="#pdcsi-node">pdcsi-node</a></li>
        <li><a href="#runsc-metric-server">runsc-metric-server</a></li>
        <li><a href="#tpu-device-plugin">tpu-device-plugin</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="https://blaaackard.com/p/gke-kubesystem-resource/">
                <img src="https://blaaackard.com/p/gke-kubesystem-resource/cover_hu55a857987ee61949054669d80844a31c_2738055_800x0_resize_box_3.png"
                        srcset="https://blaaackard.com/p/gke-kubesystem-resource/cover_hu55a857987ee61949054669d80844a31c_2738055_800x0_resize_box_3.png 800w, https://blaaackard.com/p/gke-kubesystem-resource/cover_hu55a857987ee61949054669d80844a31c_2738055_1600x0_resize_box_3.png 1600w"
                        width="800" 
                        height="450" 
                        loading="lazy"
                        alt="Featured image of post GKE „ÅÆ kube-system „É™„ÇΩ„Éº„Çπ„Çí„Åñ„Å£„Åè„ÇäÁêÜËß£„Åô„Çã" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="https://blaaackard.com/categories/kubernetes/" style="background-color: #00a1e9; color: #fff;">
                Kubernetes
            </a>
        
            <a href="https://blaaackard.com/categories/google-cloud/" >
                Google Cloud
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="https://blaaackard.com/p/gke-kubesystem-resource/">GKE „ÅÆ kube-system „É™„ÇΩ„Éº„Çπ„Çí„Åñ„Å£„Åè„ÇäÁêÜËß£„Åô„Çã</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            „ÅÇ„Åæ„ÇäÊÑèË≠ò„Åó„Å¶„Åì„Å™„Åã„Å£„Åü kube-system „ÇíË¶ó„Åç„Å´„ÅÑ„ÅèüëÅ
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 08, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    5 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="ÊúÄÂàù„Å´">ÊúÄÂàù„Å´</h1>
<p>KubernetesÂàùÂøÉËÄÖ„ÅÆÁßÅ„ÅØÁâπ„Å´Namespace„Äå<strong>kube-system</strong>„Äç„Å´„ÅÇ„Çã„É™„ÇΩ„Éº„Çπ„Å´„Å§„ÅÑ„Å¶ÊÑèË≠ò„Åõ„Åö„Å´Ê•≠Âãô„ÇíÈÄ≤„ÇÅ„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ<br>
„Åù„Åì„Åß‰ªäÂõû„ÅØGKE(Google Cloud Kubernetes Engine)„Åß„ÇØ„É©„Çπ„ÇøÊßãÁØâÊôÇ„Å´ÂãùÊâã„Å´‰ΩúÊàê„Åï„Çå„Çã„É™„ÇΩ„Éº„Çπ„Åå„Å©„ÅÆ„Çà„ÅÜ„Å™ÂÉç„Åç„Çí„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅãÈõë„Å´„Åæ„Å®„ÇÅ„Å¶„Åø„Çã„Åì„Å®„Å´„Åó„Åæ„Åó„Åü„ÄÇ</p>
<p>„Åæ„Åö„ÅØ„ÇØ„É©„Çπ„Çø„ÇíÊßãÁØâ„Åó„Å¶„ÄÅ„ÄÅ„ÄÅ  Áâπ„Å´‰Ωï„ÇÇ„Éá„Éó„É≠„Ç§„Åõ„Åö„Å´<code>k get all</code>„Çí„Åó„Åæ„Åô„ÄÇ</p>
<details>
<summary>ÂÆüË°åÁµêÊûú</summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ k get all -n kube-system
</span></span><span class="line"><span class="cl">NAME                                                              READY   STATUS    RESTARTS   AGE
</span></span><span class="line"><span class="cl">pod/event-exporter-gke-7bf6c99dcb-ddh8w                           2/2     Running   <span class="m">0</span>          3m14s
</span></span><span class="line"><span class="cl">pod/fluentbit-gke-sdpcc                                           2/2     Running   <span class="m">0</span>          2m14s
</span></span><span class="line"><span class="cl">pod/gke-metrics-agent-mztgr                                       2/2     Running   <span class="m">0</span>          2m14s
</span></span><span class="line"><span class="cl">pod/konnectivity-agent-69fc69d588-t67rj                           1/1     Running   <span class="m">0</span>          3m3s
</span></span><span class="line"><span class="cl">pod/konnectivity-agent-autoscaler-5d9dbcc6d8-2qlgw                1/1     Running   <span class="m">0</span>          3m2s
</span></span><span class="line"><span class="cl">pod/kube-dns-5bfd847c64-p6tgx                                     4/4     Running   <span class="m">0</span>          3m22s
</span></span><span class="line"><span class="cl">pod/kube-dns-autoscaler-84b8db4dc7-2sjtc                          1/1     Running   <span class="m">0</span>          3m21s
</span></span><span class="line"><span class="cl">pod/kube-proxy-gke-cn-matsuirut-temp-default-pool-14ae721e-qj9s   1/1     Running   <span class="m">0</span>          72s
</span></span><span class="line"><span class="cl">pod/l7-default-backend-d86c96845-nj87m                            1/1     Running   <span class="m">0</span>          3m
</span></span><span class="line"><span class="cl">pod/metrics-server-v0.5.2-6bf74b5d5f-wvrqq                        2/2     Running   <span class="m">0</span>          91s
</span></span><span class="line"><span class="cl">pod/pdcsi-node-pvztw                                              2/2     Running   <span class="m">0</span>          2m14s
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">NAME                           TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>         AGE
</span></span><span class="line"><span class="cl">service/default-http-backend   NodePort    10.248.14.194   &lt;none&gt;        80:30274/TCP    2m59s
</span></span><span class="line"><span class="cl">service/kube-dns               ClusterIP   10.248.0.10     &lt;none&gt;        53/UDP,53/TCP   3m23s
</span></span><span class="line"><span class="cl">service/metrics-server         ClusterIP   10.248.8.65     &lt;none&gt;        443/TCP         2m50s
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">NAME                                                    DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR                                                        AGE
</span></span><span class="line"><span class="cl">daemonset.apps/fluentbit-gke                            <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       <span class="m">1</span>            <span class="m">1</span>           kubernetes.io/os<span class="o">=</span>linux                                               3m12s
</span></span><span class="line"><span class="cl">daemonset.apps/fluentbit-gke-256pd                      <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>linux                                               3m12s
</span></span><span class="line"><span class="cl">daemonset.apps/fluentbit-gke-max                        <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>linux                                               3m12s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent                        <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       <span class="m">1</span>            <span class="m">1</span>           &lt;none&gt;                                                               3m8s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-10             <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m8s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-100            <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m7s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-20             <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m7s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-200            <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m7s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-50             <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m7s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-scaling-500            <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m6s
</span></span><span class="line"><span class="cl">daemonset.apps/gke-metrics-agent-windows                <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>windows                                             3m6s
</span></span><span class="line"><span class="cl">daemonset.apps/kube-proxy                               <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>linux,node.kubernetes.io/kube-proxy-ds-ready<span class="o">=</span><span class="nb">true</span>   2m38s
</span></span><span class="line"><span class="cl">daemonset.apps/metadata-proxy-v0.1                      <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           cloud.google.com/metadata-proxy-ready<span class="o">=</span>true,kubernetes.io/os<span class="o">=</span>linux    2m35s
</span></span><span class="line"><span class="cl">daemonset.apps/nccl-fastsocket-installer                <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               2m49s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-large-cos       <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m5s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-large-ubuntu    <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m4s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-medium-cos      <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m6s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-medium-ubuntu   <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m5s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-small-cos       <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m6s
</span></span><span class="line"><span class="cl">daemonset.apps/nvidia-gpu-device-plugin-small-ubuntu    <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               3m5s
</span></span><span class="line"><span class="cl">daemonset.apps/pdcsi-node                               <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       <span class="m">1</span>            <span class="m">1</span>           kubernetes.io/os<span class="o">=</span>linux                                               2m46s
</span></span><span class="line"><span class="cl">daemonset.apps/pdcsi-node-windows                       <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>windows                                             2m45s
</span></span><span class="line"><span class="cl">daemonset.apps/runsc-metric-server                      <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           kubernetes.io/os<span class="o">=</span>linux,sandbox.gke.io/runtime<span class="o">=</span>gvisor                 3m20s
</span></span><span class="line"><span class="cl">daemonset.apps/tpu-device-plugin                        <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       <span class="m">0</span>            <span class="m">0</span>           &lt;none&gt;                                                               2m41s
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">NAME                                            READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span class="line"><span class="cl">deployment.apps/event-exporter-gke              1/1     <span class="m">1</span>            <span class="m">1</span>           3m15s
</span></span><span class="line"><span class="cl">deployment.apps/konnectivity-agent              1/1     <span class="m">1</span>            <span class="m">1</span>           3m4s
</span></span><span class="line"><span class="cl">deployment.apps/konnectivity-agent-autoscaler   1/1     <span class="m">1</span>            <span class="m">1</span>           3m3s
</span></span><span class="line"><span class="cl">deployment.apps/kube-dns                        1/1     <span class="m">1</span>            <span class="m">1</span>           3m24s
</span></span><span class="line"><span class="cl">deployment.apps/kube-dns-autoscaler             1/1     <span class="m">1</span>            <span class="m">1</span>           3m22s
</span></span><span class="line"><span class="cl">deployment.apps/l7-default-backend              1/1     <span class="m">1</span>            <span class="m">1</span>           3m1s
</span></span><span class="line"><span class="cl">deployment.apps/metrics-server-v0.5.2           1/1     <span class="m">1</span>            <span class="m">1</span>           2m50s
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">NAME                                                       DESIRED   CURRENT   READY   AGE
</span></span><span class="line"><span class="cl">replicaset.apps/event-exporter-gke-7bf6c99dcb              <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m15s
</span></span><span class="line"><span class="cl">replicaset.apps/konnectivity-agent-69fc69d588              <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m4s
</span></span><span class="line"><span class="cl">replicaset.apps/konnectivity-agent-autoscaler-5d9dbcc6d8   <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m3s
</span></span><span class="line"><span class="cl">replicaset.apps/kube-dns-5bfd847c64                        <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m23s
</span></span><span class="line"><span class="cl">replicaset.apps/kube-dns-autoscaler-84b8db4dc7             <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m22s
</span></span><span class="line"><span class="cl">replicaset.apps/l7-default-backend-d86c96845               <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       3m1s
</span></span><span class="line"><span class="cl">replicaset.apps/metrics-server-v0.5.2-6bf74b5d5f           <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       92s
</span></span><span class="line"><span class="cl">replicaset.apps/metrics-server-v0.5.2-8569bc4cf9           <span class="m">0</span>         <span class="m">0</span>         <span class="m">0</span>       2m50s
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<p>Ê≤¢Â±±„ÅÇ„Çä„Åæ„Åô„Å≠„ÄÅ‰∏Ä„Å§„Åö„Å§„É°„É¢„É¨„Éô„É´„Åß„Åæ„Å®„ÇÅ„Å¶„ÅÑ„Åì„ÅÜ„Åã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>
ÊÉÖÂ†±ÈñìÈÅï„Å£„Å¶„ÅÑ„Åü„Çâ„Åô„Åø„Åæ„Åõ„Çì„ÄÇ</p>
<h2 id="deployment">Deployment</h2>
<h3 id="event-exporter-gke">event-exporter-gke</h3>
<p>‚úÖ <strong>Cluster „ÅßÁô∫Áîü„Åó„Åü Event „Çí„Ç≠„É£„Éó„ÉÅ„É£„Åó Cloud Logging „Å´ÈÄÅ‰ø°„Åô„Çã</strong></p>
<p>Kubetenes ClusterÂÜÖÈÉ®„ÅßÂÆüÈöõ„Å´Áô∫Áîü„Åó„ÅüEvent„ÅØ<code>kubectl get event</code>„ÅßÂèñÂæóÂèØËÉΩ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ kubectl get event
</span></span><span class="line"><span class="cl">LAST SEEN   TYPE      REASON             OBJECT               MESSAGE
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">55s         Normal    ScalingReplicaSet  deployment/kube-dns  Scaled down replica <span class="nb">set</span> kube-dns-5bfd847c64 to <span class="m">1</span> from <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>„Åó„Åã„Åó„ÄÅ„Åì„Çå„Çâ„ÅÆEventÊÉÖÂ†±„ÅØÁô∫Áîü„Åã„Çâ1ÊôÇÈñìÂæå„Å´ÂâäÈô§„Åï„Çå„Å¶„Åó„Åæ„ÅÜ„ÄÇClusterÂÜÖÈÉ®„ÅÆÁï∞Â∏∏„Å´Ê∞ó„Å•„Åç„ÄÅÂæå„Åã„ÇâË™øÊüª„Åó„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„Å®„Åç„Å´„ÅØEvent„ÅÆ„É≠„Ç∞„ÅåÊ∂à„Åà„Å¶„ÅÑ„Åü„ÄÅ„Å®„Å™„Çã„Å®Â§ßÂ§â„Å†„ÄÇ<br>
„Åù„Åì„Åß<strong>event-exporter-gke</strong>„ÅÆÁôªÂ†¥„ÄÇEventÊÉÖÂ†±„ÇíLogging„Å´ÈÄÅ‰ø°„Åô„Çã„Åì„Å®„ÅßÂæå„Åã„Çâ„Åß„ÇÇEventÊÉÖÂ†±„ÇíË¶ã„Çã„Åì„Å®„Åå„Åß„Åç„ÄÅ‰Ωï„Çà„Çä„Ç≥„É≥„ÇΩ„Éº„É´„Åã„ÇâÂÆπÊòì„Å´Ê§úÁ¥¢„ÅåÂèØËÉΩ„Å®„Å™„Çã„ÄÇ</p>
<p><img src="https://blaaackard.com/p/gke-kubesystem-resource/logging.png"
	width="1177"
	height="514"
	srcset="https://blaaackard.com/p/gke-kubesystem-resource/logging_hu105c321fc49abb2bc50ed5c88a48ee4b_108766_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/logging_hu105c321fc49abb2bc50ed5c88a48ee4b_108766_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="Logging„Ç≥„É≥„ÇΩ„Éº„É´ÁîªÈù¢"
	
	
		class="gallery-image" 
		data-flex-grow="228"
		data-flex-basis="549px"
	
></p>
<p>üö®ÂÖ¨Âºèdoc„Å´„Çà„Çã„Å®event-exporter„ÅØ„Éô„Çπ„Éà„Ç®„Éï„Ç©„Éº„ÉàÊñπÂºè„ÅßÂãï‰Ωú„Åô„Çã„Åü„ÇÅ„ÄÅ„Åô„Åπ„Å¶„ÅÆEvent„Çí„Ç≠„É£„Éó„ÉÅ„É£„Åß„Åç„Çã„Å®„ÅØÈôê„Çâ„Å™„ÅÑ„Çâ„Åó„ÅÑ„ÄÇ„Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞„ÅÆÈöõ„ÅØ„ÄÅEvent„Å´Âä†„Åà„Å¶Logs„Å®Metrics„Çí‰ΩøÁî®„Åô„Çã„Åì„Å®„ÅåÊé®Â•®„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja</a></p>
<h3 id="konnectivity-agent">konnectivity-agent</h3>
<p>‚úÖ <strong>„Ç≥„É≥„Éà„É≠„Éº„É´„Éó„É¨„Éº„É≥„Åã„Çâ„ÇØ„É©„Çπ„Çø„Å∏„ÅÆÈÄö‰ø°„ÇíÂÆâÂÖ®„Å´</strong></p>
<p><strong>Konnectivity</strong> „ÅØ„Ç≥„É≥„Éà„É≠„Éº„É´„Éó„É¨„Éº„É≥„Åã„Çâ„ÇØ„É©„Çπ„Çø„Å∏„ÅÆÈÄö‰ø°„Å´ TCP „Éó„É≠„Ç≠„Ç∑„ÇíÊèê‰æõ„Åô„Çã„Çµ„Éº„Éì„Çπ„Åß„ÄÅ„Ç≥„É≥„Éà„É≠„Éº„É´„Éó„É¨„Éº„É≥ÂÅ¥„Å´ÈÖçÁΩÆ„Åï„Çå„Åü Konnectivity Server„Å®„ÄÅ„ÇØ„É©„Çπ„ÇøÂÅ¥„Å´ ÈÖçÁΩÆ„Åï„Çå„ÅüKonnectivity Agent„ÅÆÔºí„Å§„ÅÆÂΩπÂâ≤„Åã„ÇâÊßãÊàê„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ<br>
Konnectivity ÁôªÂ†¥‰ª•Ââç„ÄÅ„Ç≥„É≥„Éà„É≠„Éº„É´„Éó„É¨„Éº„É≥„Åã„Çâ„ÇØ„É©„Çπ„ÇøÂÜÖÈÉ®„Å∏„ÅÆÈÄö‰ø°„Å´„ÅØ„ÄÅ„Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÅÆÊá∏Âøµ„Åå„ÅÇ„Çã„Éó„É¨„Éº„É≥HTTP„ÇÑÁèæÂú®ÈùûÊé®Â•®„Å®„Å™„Å£„Å¶„ÅÑ„ÇãSSH„Éà„É≥„Éç„É´„ÅåÂà©Áî®„Åï„Çå„Å¶„ÅÑ„Åü„Åù„ÅÜ„ÄÇKonnectivityÁôªÂ†¥Âæå„ÄÅ<strong>Kubernetes API Server „Åå„ÇØ„É©„Çπ„ÇøÂÜÖÈÉ®„Å´Áõ¥Êé•Êé•Á∂ö„Åô„Çã„Åì„Å®„Åå„Å™„Åè„Å™„Å£„Åü</strong>„Åì„Å®„Åß„ÄÅ„Éç„ÉÉ„Éà„ÉØ„Éº„Ç≠„É≥„Ç∞„ÅÆÂàÜÈõ¢„ÅåÂèØËÉΩ„Å´„Å™„Çä„ÄÅ„Éà„É©„Éï„Ç£„ÉÉ„ÇØ„ÇíÂàÜÂâ≤„Åó„Å¶ÁÆ°ÁêÜ„Åß„Åç„Åü„Çä„Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÅÆÂº∑Âåñ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ</p>
<p><strong>konnectivity-agent-autoscaler</strong> „ÅØ„ÄÅ‰∏äË®ò„ÅÆ Konnectivity Agent „ÅÆ„Çπ„Ç±„Éº„É™„É≥„Ç∞„ÇíÂà∂Âæ°„Åô„Çã„ÇÇ„ÅÆ„Å†„Å®Ë™çË≠ò„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://polar3130.hatenablog.com/entry/2023/05/26/173000"  target="_blank" rel="noopener"
    >https://polar3130.hatenablog.com/entry/2023/05/26/173000</a><br>
(ÂèÇËÄÉ„Å®„ÅÑ„ÅÜ„Åã„Åª„ÅºÂºïÁî®„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åó„Åü)<br>
<a class="link" href="https://kubernetes.io/docs/concepts/architecture/control-plane-node-communication/#konnectivity-service"  target="_blank" rel="noopener"
    >https://kubernetes.io/docs/concepts/architecture/control-plane-node-communication/#konnectivity-service</a></p>
<h3 id="kube-dns">kube-dns</h3>
<p>‚úÖ <strong>GKE „ÇØ„É©„Çπ„Çø„Å´ÂÜÖËîµ„Åï„Çå„Å¶„ÅÑ„Çã DNS „Çµ„Éº„Éê</strong></p>
<p><strong>kube-dns</strong> „ÅØ„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„Ç≥„É≥„ÉÜ„Éä„ÅåÂêçÂâçËß£Ê±∫„Åß„Åç„Çã„Çà„ÅÜDNS„ÅÆË®≠ÂÆö„ÇíË°å„ÅÜ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆDNS„Çµ„Éº„Éê„Åß„ÄÅService„Å®„Åó„Å¶Âãï„ÅÑ„Å¶„ÅÑ„Çã„ÄÇ<br>
„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£Âõ≥„ÅØ‰ª•‰∏ã„ÄÇkube-dns Service „ÅØ„ÄÅkube-dns Pod „Çí„Ç∞„É´„Éº„ÉóÂåñ„Åó„Å¶„ÄÅÂçò‰∏Ä„ÅÆ IP „Ç¢„Éâ„É¨„ÇπÔºàClusterIPÔºâ„ÇíÂâ≤„ÇäÊåØ„ÇãÂΩπÂâ≤„ÇíÊåÅ„Å£„Å¶„Åä„Çä„ÄÅ„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„Åô„Åπ„Å¶„ÅÆ Pod „Åå„Åì„ÅÆ Service „Çí‰ΩøÁî®„Åó„Å¶ DNS „ÇØ„Ç®„É™„ÇíËß£Ê±∫„Åô„Çã„ÄÇ<br>
<strong>kube-dns-autoscaler</strong> „ÅØ„ÄÅ„ÇØ„É©„Çπ„Çø„ÅÆ DNS Âá¶ÁêÜ„Å´ÂØæÂøú„Åß„Åç„Çã„Çà„ÅÜ„Å´ kube-dns „Çí„Çπ„Ç±„Éº„É™„É≥„Ç∞„Åô„ÇãÂΩπÂâ≤„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„ÄÇ</p>
<p><img src="https://blaaackard.com/p/gke-kubesystem-resource/kube-dns.png"
	width="729"
	height="332"
	srcset="https://blaaackard.com/p/gke-kubesystem-resource/kube-dns_hu8c08fd8b2185451f1583140fee73e427_17040_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/kube-dns_hu8c08fd8b2185451f1583140fee73e427_17040_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£(ÂÖ¨Âºèdoc„Åã„ÇâÂºïÁî®)"
	
	
		class="gallery-image" 
		data-flex-grow="219"
		data-flex-basis="526px"
	
></p>
<p>ÂêÑ Pod „ÅÆ DNS Ë®≠ÂÆö„ÅØ <strong>kubelet</strong> „ÅåË°å„Å£„Å¶„Åä„Çä„ÄÅkube-dns Service „ÅÆ IP„Ç¢„Éâ„É¨„Çπ„ÅØÂêÑ„Ç≥„É≥„ÉÜ„ÉäÂÜÖ„ÅÆ<code>etc/resolv.conf</code>„Å´Ë®òËø∞„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ k get service kube-dns
</span></span><span class="line"><span class="cl">NAME       TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>         AGE
</span></span><span class="line"><span class="cl">kube-dns   ClusterIP   10.8.0.10    &lt;none&gt;        53/UDP,53/TCP   9h
</span></span></code></pre></td></tr></table>
</div>
</div><p>nameserver „Å´ kube-dns „ÅÆ CLUSTER-IP„Åß„ÅÇ„Çã<code>10.8.0.10</code>„ÅåÊõ∏„ÅÑ„Å¶„ÅÇ„Çã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># cat /etc/resolv.conf
</span></span><span class="line"><span class="cl">search k8sgpt.svc.cluster.local svc.cluster.local cluster.local asia-northeast1-a.c.{hoge}.internal c.{hoge}.internal google.internal
</span></span><span class="line"><span class="cl">nameserver 10.8.0.10
</span></span><span class="line"><span class="cl">options ndots:5
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂèÇËÄÉ:<br>
<a class="link" href="https://kubernetes.io/ja/docs/concepts/services-networking/dns-pod-service/"  target="_blank" rel="noopener"
    >https://kubernetes.io/ja/docs/concepts/services-networking/dns-pod-service/</a><br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/kube-dns?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/how-to/kube-dns?hl=ja</a><br>
<a class="link" href="https://gadgeterkun.hatenablog.com/entry/20190630/1561864860"  target="_blank" rel="noopener"
    >https://gadgeterkun.hatenablog.com/entry/20190630/1561864860</a><br>
<a class="link" href="https://amateur-engineer-blog.com/kubernetes-dns/"  target="_blank" rel="noopener"
    >https://amateur-engineer-blog.com/kubernetes-dns/</a></p>
<h3 id="l7-default-backend">l7-default-backend</h3>
<p>‚úÖ <strong>Ingress Controller „ÅÆ„Åì„Å®</strong></p>
<p>GKE „Åß„ÅØ„ÄÅIngress „Å®„ÅÑ„ÅÜ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åß„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å´ HTTP(S) „Éà„É©„Éï„Ç£„ÉÉ„ÇØ„Çí„É´„Éº„ÉÜ„Ç£„É≥„Ç∞„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ
GKE Ingress Controller „Å´„Çà„Å£„Å¶ Cloud HTTP(S) „É≠„Éº„Éâ„Éê„É©„É≥„Çµ„Åå‰ΩúÊàê„Åï„Çå„ÄÅIngress „Åä„Çà„Å≥Èñ¢ÈÄ£„Åô„Çã Service „ÅÆÊÉÖÂ†±„Å´Âæì„Å£„Å¶ÊßãÊàê„ÇíË°å„ÅÜ„ÄÇ„Åì„ÅÆ Ingress Controller „ÅÆ Pod „Åå  <strong>l7-default-backend</strong> „Åß„ÄÅGKE„ÇØ„É©„Çπ„Çø„ÅÆ HTTP „É≠„Éº„Éâ„Éê„É©„É≥„Ç∑„É≥„Ç∞„Åå„ÄåÊúâÂäπ„Äç„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Å®Ëµ∑Âãï„Åô„Çã„ÄÇ<br>
„Åì„ÅÆ Ingress Controller „Åå NEG(Network Endpoint Groups:<code>GCE_VM_IP_PORT</code>)„Çí‰ΩúÊàê„Åô„Çã„Åì„Å®„Åß„ÄÅ„Ç≥„É≥„ÉÜ„Éä„Å´ÂØæ„Åó„Å¶Áõ¥Êé•Ë≤†Ëç∑ÂàÜÊï£„ÇíË°å„ÅÜ„Åì„Å®„ÅåÂèØËÉΩ„Å®„Å™„Çä„ÄÅÂæìÊù•„Å´„Åè„Çâ„Åπ„Å¶„Ç≥„É≥„ÉÜ„Éä„Å´Âà∞ÈÅî„Åô„Çã„Åæ„Åß„ÅÆ„Éõ„ÉÉ„ÉóÊï∞„ÇíÊ∏õ„Çâ„Åó„ÄÅ„É¨„Ç§„ÉÜ„É≥„Ç∑„Éº„ÅÆÂêë‰∏ä„ÅåÊúüÂæÖ„Åß„Åç„Çã„Äå„Ç≥„É≥„ÉÜ„Éä„Éç„Ç§„ÉÜ„Ç£„Éñ„ÅÆË≤†Ëç∑ÂàÜÊï£„Äç„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ</p>
<p><img src="https://blaaackard.com/p/gke-kubesystem-resource/lb-neg.png"
	width="1438"
	height="678"
	srcset="https://blaaackard.com/p/gke-kubesystem-resource/lb-neg_huc078f036485567769935fe3250a4d861_94919_480x0_resize_box_3.png 480w, https://blaaackard.com/p/gke-kubesystem-resource/lb-neg_huc078f036485567769935fe3250a4d861_94919_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="ÂÖ¨Âºèdoc„Åã„ÇâÂºïÁî®"
	
	
		class="gallery-image" 
		data-flex-grow="212"
		data-flex-basis="509px"
	
></p>
<p>„Å©„Çì„Å©„ÇìË©±„ÅåÂ§ß„Åç„Åè„Å™„Çä„Åù„ÅÜ„Å™„ÅÆ„Åß‰∏ÄÊó¶„Åì„Åì„Åæ„Åß„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/ingress?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/concepts/ingress?hl=ja</a><br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/container-native-load-balancing?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/concepts/container-native-load-balancing?hl=ja</a><br>
<a class="link" href="https://qiita.com/ishii1648/items/a9804d96dea275ee28bd"  target="_blank" rel="noopener"
    >https://qiita.com/ishii1648/items/a9804d96dea275ee28bd</a></p>
<h3 id="metrics-server">metrics-server</h3>
<p>‚úÖ <strong>„ÇØ„É©„Çπ„Çø„ÅÆ„É™„ÇΩ„Éº„Çπ„ÇíÂèñÂæó„Åô„Çã</strong></p>
<p><strong>Metrics Server</strong> „ÅØ Kubelet „Åã„Çâ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„É™„ÇΩ„Éº„Çπ‰ΩøÁî®Áä∂Ê≥Å„ÇíÂèéÈõÜ„Åó„ÄÅMetrics API „ÇíÈÄö„Åò„Å¶ Kubernetes Api Server „ÅßÂÖ¨Èñã„Åô„Çã„ÄÇ„É™„ÇΩ„Éº„Çπ‰ΩøÁî®Áä∂Ê≥Å„ÇíÂèéÈõÜ„Åô„Çã„Åì„Å®„Åß„ÄÅËá™Âãï„Çπ„Ç±„Éº„É™„É≥„Ç∞„ÇÑ„Éá„Éê„ÉÉ„Ç∞„ÅåÂÆπÊòì„Å´„Å™„Çã„ÄÇ</p>
<p>Metrics API „Å´„ÅØ <code>kubectl top</code>„Åß„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ„ÄÇ<br>
<code>kubectl describe</code>„Ç≥„Éû„É≥„Éâ„Åß„ÅØ Pod „ÅåÁ¢∫‰øù„Åó„Åü„É™„ÇΩ„Éº„Çπ„ÇíÁ¢∫Ë™ç„Åß„Åç„Çã„ÅÆ„Å´ÂØæ„Åó„ÄÅ„Åì„Å°„Çâ„ÅÆ„Ç≥„Éû„É≥„Éâ„ÅØ<strong>ÂÆüÈöõ„Å´ Pod ÂÜÖ„ÅÆ„Ç≥„É≥„ÉÜ„Éä„Åå‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„É™„ÇΩ„Éº„Çπ„ÅÆ‰ΩøÁî®Èáè</strong>„ÅåÁ¢∫Ë™ç„Åß„Åç„Çã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ kubectl top pod -n kube-system
</span></span><span class="line"><span class="cl">NAME                                                          CPU<span class="o">(</span>cores<span class="o">)</span>   MEMORY<span class="o">(</span>bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">event-exporter-gke-7bf6c99dcb-ddh8w                           1m           20Mi
</span></span><span class="line"><span class="cl">fluentbit-gke-sdpcc                                           6m           23Mi
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂèÇËÄÉ:<br>
<a class="link" href="https://github.com/kubernetes-sigs/metrics-server"  target="_blank" rel="noopener"
    >https://github.com/kubernetes-sigs/metrics-server</a><br>
<a target="_blank" href="https://www.amazon.co.jp/Kubernetes%25E5%25AE%258C%25E5%2585%25A8%25E3%2582%25AC%25E3%2582%25A4%25E3%2583%2589-%25E7%25AC%25AC2%25E7%2589%2588-Top-Gear-%25E9%259D%2592%25E5%25B1%25B1/dp/4295009792?&_encoding=UTF8&tag=blaaackard04-22&linkCode=ur2&linkId=2ff724fb2dfe8348672a1ebc4673ed32&camp=247&creative=1211">KubernetesÂÆåÂÖ®„Ç¨„Ç§„Éâ Á¨¨2Áâà (Top Gear)</a></p>
<h2 id="daemonset">Daemonset</h2>
<p>ÂÖ®„Å¶„ÅÆ Node „ÅßÂãï„Åè„Åπ„Åç Pod „ÇíÂÆöÁæ©„Åô„Çã„ÅÆ„Åå Daemonset „ÄÇ<br>
Áõ£Ë¶ñ„ÇÑ„É≠„Ç∞ÂèéÈõÜ„ÇíË°å„ÅÜ„Éá„Éº„É¢„É≥Á≠â„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇËªΩ„ÅèËß¶„Çå„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>
<h3 id="fluentbit-gke">fluentbit-gke</h3>
<p>‚úÖ <strong>ÂêÑ Node „ÅÆ„Ç≥„É≥„ÉÜ„Éä„É≠„Ç∞„Çí Cloud Logging „Å´Ëª¢ÈÄÅ„Åô„Çã</strong></p>
<p>GKE „ÇØ„É©„Çπ„Çø„Çí‰ΩúÊàê„Åô„Çã„Å®„ÄÅCloud Logging „Åä„Çà„Å≥ Cloud Monitoring „Å® Cloud Operations for GKE „Å®„ÅÆ„Ç§„É≥„ÉÜ„Ç∞„É¨„Éº„Ç∑„Éß„É≥„Åå„Éá„Éï„Ç©„É´„Éà„ÅßÊúâÂäπ„Å´„Å™„Çã„ÄÇ<br>
„Ç∑„Çπ„ÉÜ„É†„É≠„Ç∞„Å®„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ „É≠„Ç∞„ÅØ„ÄÅCloud Logging „ÅÆ„É≠„Ç∞„É´„Éº„Çø„Éº„Å´ÈÖç‰ø°„Åï„Çå„ÄÅCloud Logging „Å´Âèñ„ÇäËæº„Åæ„Çå„Çã„Åã„ÄÅÈô§Â§ñ„Åï„Çå„Çã„Åã„ÄÅBigQuery„ÄÅPub/Sub„ÄÅCloud Storage Á≠â„Å´„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åï„Çå„Çã„ÄÇ<br>
„Ç∑„Çπ„ÉÜ„É† „É≠„ÇÆ„É≥„Ç∞„ÇíÊúâÂäπ„Å´„Åô„Çã„Å®„ÄÅfluentbit „Éô„Éº„Çπ„ÅÆÂ∞ÇÁî®„ÅÆ Logging „Ç®„Éº„Ç∏„Çß„É≥„Éà„Åß„ÅÇ„Çã <strong>fluentbit-gke</strong> „Åå ÂêÑ„Éé„Éº„Éâ„Å´Ëá™ÂãïÁöÑ„Å´„Éá„Éó„É≠„Ç§„Åï„Çå„ÄÅ„É≠„Ç∞„Çí Cloud Logging „Å´ÈÄÅ‰ø°„Åô„Çã„ÄÇ</p>
<p>GKE Standard „Å´„Åä„Åë„Çã Node „ÅÇ„Åü„Çä„ÅÆ Pod Êï∞‰∏äÈôê„ÅØ 110  „Å†„Å£„Åü„Åå„ÄÅ2022 Âπ¥ 8 Êúà„ÅÆ„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åß 256 „Åæ„ÅßÂºï„Åç‰∏ä„Åí„Çâ„Çå„Åü„ÄÇ <strong>fluentbit-gke-256pd</strong> „ÅØ„Åù„Çå„Å´ÂØæÂøú„Åô„Çã„ÇÇ„ÅÆ„Å®„ÅÑ„ÅÜË™çË≠ò„ÄÇ<br>
„ÅÑ„Åö„Çå„Åã„ÅÆ GKE „Éé„Éº„Éâ„Åß 1 Áßí„ÅÇ„Åü„Çä 100 KiB „ÇíË∂Ö„Åà„Çã„É≠„Ç∞ „Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØ„ÄÅÈ´ò„Çπ„É´„Éº„Éó„ÉÉ„ÉàÁâà„ÅÆ <strong>fluentbit-gke-max</strong> „Çí‰ΩøÁî®„Åô„Çã„Åì„Å®„Åß„ÄÅ„Éé„Éº„Éâ„Åî„Å®„Å´ 1 Áßí„ÅÇ„Åü„Çä 10 MiB „Å®„ÅÑ„ÅÜÈ´ò„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÇíÂÆüÁèæ„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/stackdriver/docs/solutions/gke/managing-logs?hl=ja</a><br>
<a class="link" href="https://polar3130.hatenablog.com/entry/2022/08/18/180500"  target="_blank" rel="noopener"
    >https://polar3130.hatenablog.com/entry/2022/08/18/180500</a><br>
<a class="link" href="https://polar3130.hatenablog.com/entry/2022/09/21/090000"  target="_blank" rel="noopener"
    >https://polar3130.hatenablog.com/entry/2022/09/21/090000</a></p>
<h3 id="gke-metrics-agent">gke-metrics-agent</h3>
<p>‚úÖ <strong>Cloud Monitoring „Å´„É°„Éà„É™„ÇØ„Çπ„ÇíÈÄÅ‰ø°„Åô„Çã</strong></p>
<p>Cloud Monitoring „Å´„É°„Éà„É™„ÇØ„Çπ„ÇíÂèñ„ÇäËæº„ÇÄ„Åì„Å®„Åß„ÄÅ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Åß„ÅÆË°®Á§∫„ÇÑ„Ç¢„É©„Éº„Éà„ÅÆÁîüÊàê„ÇíË°å„ÅÜ„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ<strong>gke-metrics-agent</strong> „ÅØÂêÑ„Éé„Éº„Éâ„ÅÆ„É°„Éà„É™„ÇØ„Çπ„Çí Cloud Monitoring „Å´ÈÄÅ‰ø°„Åô„ÇãÂΩπÂâ≤„ÇíÊåÅ„Å§„ÄÇ<br>
gke-metrics-agent-scaling-10 „ÇÑ gke-metrics-agent-scaling-100 „Åå„ÅÇ„Çã„Åå„ÄÅÊï∞Â≠ó„ÅØËøΩÂä†„Åô„Çã„É°„É¢„É™Èáè(MB)„ÇíË°®„Åó„Å¶„ÅÑ„Çã„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/stackdriver/docs/solutions/gke/managing-metrics?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/stackdriver/docs/solutions/gke/managing-metrics?hl=ja</a></p>
<h3 id="kube-proxy">kube-proxy</h3>
<p>‚úÖ <strong>Service „É™„ÇΩ„Éº„Çπ„ÇíÁõ£Ë¶ñ„Åó„ÄÅ„Éé„Éº„Éâ„ÅÆ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØË®≠ÂÆö„ÇíË°å„ÅÜ</strong></p>
<p><strong>kube-proxy</strong> „ÅØ kubelet „Å®Âêå„Åò„Åè„ÄÅÂêÑNode‰∏ä„ÅßÂãï‰Ωú„Åô„Çã„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÄÇService „É™„ÇΩ„Éº„Çπ„ÅÆ‰ΩúÊàê/Êõ¥Êñ∞/ÂâäÈô§„ÇíÊ§úÁü•„Åó„ÅüÈöõ„Å´„ÄÅNode „ÅÆ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØË®≠ÂÆö„ÇíË°å„ÅÜ„Åì„Å®„Åß„ÄÅ ClusterIP „ÇÑ NodePort ÂÆõ„ÅÆ„Éà„É©„Éï„Ç£„ÉÉ„ÇØ„Åå Pod „Å´Ê≠£Â∏∏„Å´Ëª¢ÈÄÅ„Åï„Çå„Çã„Çà„ÅÜ„Å´„Åô„Çã„ÄÇ<br>
3„Å§„ÅÆËª¢ÈÄÅÊñπÂºè„Åå„ÅÇ„Çã„Åå„ÄÅ„Éá„Éï„Ç©„É´„Éà„ÅØ iptables „ÇíÊßãÊàê„Åô„Çã iptables „É¢„Éº„Éâ„ÄÇ<br>
‰ª•‰∏ãÂèÇËÄÉ„Éö„Éº„Ç∏„Åå„Çè„Åã„Çä„ÇÑ„Åô„ÅÑ„ÄÇ</p>
<p>ÂèÇËÄÉ:
<a class="link" href="https://qiita.com/nozmiz/items/9a74433258a79be26c36"  target="_blank" rel="noopener"
    >https://qiita.com/nozmiz/items/9a74433258a79be26c36</a><br>
<a class="link" href="https://recruit.gmo.jp/engineer/jisedai/blog/kubernetes_service/"  target="_blank" rel="noopener"
    >https://recruit.gmo.jp/engineer/jisedai/blog/kubernetes_service/</a></p>
<h3 id="metadata-proxy">metadata-proxy</h3>
<p>‚úÖ <strong>„Ç≥„É≥„ÉÜ„Éä„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„Å´Èö†ËîΩ„Åï„Çå„Åü„É°„Çø„Éá„Éº„Çø„ÇíÊèê‰æõ„Åô„Çã</strong></p>
<p>GKE „Åß„ÅØ„Ç§„É≥„Çπ„Çø„É≥„Çπ„É°„Çø„Éá„Éº„Çø„Çí‰ΩøÁî®„Åó„Å¶ VM „ÇíÊßãÊàê„Åô„Çã„Åå„ÄÅ„É°„Çø„Éá„Éº„Çø„ÅÆ‰∏ÄÈÉ®„ÅØÊ©üÂØÜÊÄß„ÅåÈ´ò„Åè„ÇØ„É©„Çπ„Çø„ÅßÂÆüË°å‰∏≠„ÅÆ„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„Åã„Çâ‰øùË≠∑„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ<br>
<strong>metadata-proxy</strong>„ÅØ„Åì„ÅÆÂΩπÂâ≤„ÇíÊåÅ„Å§„ÇÇ„ÅÆ„Å†„Åå„ÄÅÁèæÂú®„Åß„ÅØ„É°„Çø„Éá„Éº„ÇøÈö†ËîΩ„ÅØÈùûÊé®Â•®„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅ<strong>Workload Identity</strong> „Çí‰Ωø„ÅÜ„Åì„Å®„ÅåÊé®Â•®„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/protecting-cluster-metadata?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/how-to/protecting-cluster-metadata?hl=ja</a><br>
<a class="link" href="https://github.com/GoogleCloudPlatform/k8s-metadata-proxy"  target="_blank" rel="noopener"
    >https://github.com/GoogleCloudPlatform/k8s-metadata-proxy</a></p>
<h3 id="nccl-fastsocket-installer">nccl-fastsocket-installer</h3>
<p>‚úÖ <strong>NVIDIA„ÅåÊèê‰æõ„Åô„Çã„Éû„É´„ÉÅGPUÂêë„Åë„ÅÆÈõÜÂêàÈÄö‰ø°„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂêë‰∏ä„Åï„Åõ„Çã</strong></p>
<p>NCCL„ÅØ„ÄÅNVIDIA„ÅåÊèê‰æõ„Åô„Çã„Éû„É´„ÉÅGPUÂêë„Åë„ÅÆÈõÜÂêàÈÄö‰ø°Áî®„ÅÆ„É©„Ç§„Éñ„É©„É™„Åß„ÄÅTensorFlow „ÇÑ PyTorch „Å™„Å©„ÅÆ„Éá„Ç£„Éº„Éó„É©„Éº„Éã„É≥„Ç∞„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„Åß„Éû„É´„ÉÅ GPU „ÇÑ„Éû„É´„ÉÅ„Éé„Éº„Éâ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíË°å„ÅÜÂ†¥Âêà„Å´‰ΩøÁî®„Åï„Çå„Çã„ÄÇ<br>
<strong>nccl-fastsocket-installer</strong> „ÅØ„ÄÅ„Åì„Çå„Çâ„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂêë‰∏ä„Åï„Åõ„Çã„Éà„É©„É≥„Çπ„Éù„Éº„ÉàÂ±§„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„Çâ„Åó„ÅÑ„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://github.com/google/nccl-fastsocket"  target="_blank" rel="noopener"
    >https://github.com/google/nccl-fastsocket</a>
<a class="link" href="https://cloud.google.com/compute/docs/gpus/optimize-gpus?hl=ja#fast-socket"  target="_blank" rel="noopener"
    >https://cloud.google.com/compute/docs/gpus/optimize-gpus?hl=ja#fast-socket</a></p>
<h3 id="nvidia-gpu-device-plugin">nvidia-gpu-device-plugin</h3>
<p>‚úÖ <strong>NVIDIAË£Ω„ÅÆGPU„Çí„ÇØ„É©„Çπ„Çø„Åß‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã</strong></p>
<p>Device Plugins „Å®„ÅØÊßò„ÄÖ„Å™„Éè„Éº„Éâ„Ç¶„Çß„Ç¢„Çí kubelet „Å´Ë¶ã„Åõ„Çã„Åü„ÇÅ„ÅÆ‰ªïÁµÑ„Åø„ÄÇ<br>
GKE‰∏ä„Åß„ÅØ„ÄÅNVIDIA Tesla¬Æ GPUÔºàK80„ÄÅP100„ÄÅP4„ÄÅV100„ÄÅT4„ÄÅL4„ÄÅA100Ôºâ„ÇíË£ÖÂÇô„Åó„Åü„Éé„Éº„Éâ„Éó„Éº„É´„Çí‰ΩúÊàê„Åô„Çã„Åì„Å®„Åå„Åß„Åç„ÄÅÁîªÂÉèË™çË≠ò„ÇÑËá™ÁÑ∂Ë®ÄË™ûÂá¶ÁêÜÁ≠â„ÅÆ„Éá„Ç£„Éº„Éó„É©„Éº„Éã„É≥„Ç∞„Å´ÂøÖË¶Å„Å™Ë®àÁÆóËÉΩÂäõ„ÇíÊèê‰æõ„Åô„Çã„ÄÇ
<strong>nvidia-gpu-device-plugin</strong> „ÅØGKE‰∏ä„Åß NVIDIA Ë£Ω„ÅÆ GPU „ÇíÂÆüË°å„Åô„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™ plugin „ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/gpus?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/how-to/gpus?hl=ja</a><br>
<a class="link" href="https://speakerdeck.com/extendwings/device-pluginkai-fa-ru-men"  target="_blank" rel="noopener"
    >https://speakerdeck.com/extendwings/device-pluginkai-fa-ru-men</a><br>
<a class="link" href="https://kubernetes.io/ja/docs/tasks/manage-gpus/scheduling-gpus/"  target="_blank" rel="noopener"
    >https://kubernetes.io/ja/docs/tasks/manage-gpus/scheduling-gpus/</a></p>
<h3 id="pdcsi-node">pdcsi-node</h3>
<p>‚úÖ <strong>Compute Engine Ê∞∏Á∂ö„Éá„Ç£„Çπ„ÇØ„ÅÆ CSI „Éâ„É©„Ç§„Éê</strong></p>
<p>GKE „Çí‰ΩøÁî®„Åô„Çã„Å®„ÇØ„É©„Çπ„Çø„Å∏Á∞°Âçò„Åã„Å§Ëá™ÂãïÁöÑ„Å´ Compute Engine Ê∞∏Á∂ö„Éá„Ç£„Çπ„ÇØ Container Storage InterfaceÔºàCSIÔºâ„Éâ„É©„Ç§„Éê„Çí„Éá„Éó„É≠„Ç§„Åó„Å¶ÁÆ°ÁêÜ„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇÊ®ôÊ∫ñ„ÇØ„É©„Çπ„Çø„Åß„ÅØ„ÄÅCompute Engine Ê∞∏Á∂ö„Éá„Ç£„Çπ„ÇØ„ÅÆ CSI „Éâ„É©„Ç§„Éê„ÇíÊúâÂäπ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ</p>
<p>Ë©≥„Åó„ÅèË™ø„Åπ„Å¶„Å™„ÅÑ„Åå„ÄÅ<code>csi-node-driver-registrar</code>„Å®<code>gcp-compute-persistent-disk-csi-driver</code>„Å®„ÅÑ„ÅÜ Image „Åå‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åã„Çâ„ÄÅ„Åì„Çå„Çâ„Å´Èñ¢ÈÄ£„Åô„Çã„É™„ÇΩ„Éº„Çπ„Å†„Å®ÊÄù„Çè„Çå„Çã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ kubectl describe daemonsets pdcsi-node --namespace<span class="o">=</span>kube-system
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Pod Template:
</span></span><span class="line"><span class="cl">  Labels:           k8s-app<span class="o">=</span>gcp-compute-persistent-disk-csi-driver
</span></span><span class="line"><span class="cl">  Annotations:      components.gke.io/component-name: pdcsi
</span></span><span class="line"><span class="cl">                    components.gke.io/component-version: 0.16.14
</span></span><span class="line"><span class="cl">  Service Account:  pdcsi-node-sa
</span></span><span class="line"><span class="cl">  Containers:
</span></span><span class="line"><span class="cl">   csi-driver-registrar:
</span></span><span class="line"><span class="cl">    Image:      gke.gcr.io/csi-node-driver-registrar:v2.8.0-gke.4@sha256:715a1581ce158fbf95f7ca351e25c7d6a0a1599e46e270e72238cc8a0aef1c43
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   gce-pd-driver:
</span></span><span class="line"><span class="cl">    Image:      gke.gcr.io/gcp-compute-persistent-disk-csi-driver:v1.10.7-gke.0@sha256:a3e4af6b6f6999427dc7b02e813aa1ca5f26e73357c92a77b8fe774ddf431a26
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë©≥„Åó„Åè„ÅØ‰ª•‰∏ã„ÅÆÂèÇËÄÉ„Éö„Éº„Ç∏„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver?hl=ja"  target="_blank" rel="noopener"
    >https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver?hl=ja</a><br>
<a class="link" href="https://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver"  target="_blank" rel="noopener"
    >https://github.com/kubernetes-sigs/gcp-compute-persistent-disk-csi-driver</a></p>
<h3 id="runsc-metric-server">runsc-metric-server</h3>
<p>„ÅÇ„Åæ„ÇäËâØ„Åè„Çè„Åã„Å£„Å¶„Å™„ÅÑ„Åå„ÄÅ‰ª•‰∏ã„ÅÆÂèÇËÄÉ„Çµ„Ç§„Éà„Å®Èñ¢ÈÄ£„ÅÇ„Çä„Åù„ÅÜ„ÄÇ</p>
<p>ÂèÇËÄÉ:<br>
<a class="link" href="https://gvisor.dev/docs/user_guide/observability/"  target="_blank" rel="noopener"
    >https://gvisor.dev/docs/user_guide/observability/</a></p>
<h3 id="tpu-device-plugin">tpu-device-plugin</h3>
<p>Ë™ø„Åπ„Å¶„ÇÇ„ÅÇ„Åæ„ÇäÊÉÖÂ†±„ÅåÂá∫„Å¶„Åì„Å™„Åã„Å£„Åü„Åå„ÄÅnvidia-gpu-device-plugin „Å®ÂêåÊßò„Å´ GKE‰∏ä„Åß TPU „ÇíÂÆüË°å„Åó„Åü„ÅÑÂ†¥Âêà„Å´ÂøÖË¶Å„Å™ plugin „Å†„Å®Ë™çË≠ò„ÄÇ</p>
<h1 id="„Åæ„Å®„ÇÅ">„Åæ„Å®„ÇÅ</h1>
<p>‰ªäÂõû„ÅØ Namespace „Äåkube-system„Äç „Å´„ÅÇ„Çã„É™„ÇΩ„Éº„Çπ„Åå„Å©„ÅÆ„Çà„ÅÜ„Å™ÂΩπÂâ≤„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„ÅÆ„Åã„É°„É¢„Éô„Éº„Çπ„Åß„Åæ„Å®„ÇÅ„Å¶„Åø„Åæ„Åó„Åü„ÄÇ„Å™„Çì„Å®„Å™„Åè„ÅÆÁêÜËß£„Åå„Éè„ÉÉ„Ç≠„É™„Åó„ÅüÁêÜËß£„Å´Â§â„Çè„Å£„Åü„Çä„ÄÅÊñ∞„Åó„ÅèÂæó„ÅüÁü•Ë≠ò„ÇÇ„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ<br>
„Åæ„Å†„Åæ„Å†ÂàÜ„Åã„Çâ„Å™„ÅÑ„Åì„Å®„Å†„Çâ„Åë„Åß„Åô„Åå‰∏Ä„Å§„Åö„Å§ÊΩ∞„Åó„Å¶„ÅÑ„Åç„Åü„ÅÑ„Åß„Åô„ÄÇ<br>
„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://blaaackard.com/tags/kubernetes/">Kubernetes</a>
        
            <a href="https://blaaackard.com/tags/google-cloud/">Google Cloud</a>
        
            <a href="https://blaaackard.com/tags/gke/">GKE</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="https://blaaackard.com/p/k8s-gpt/">
        
        
            <div class="article-image">
                <img src="https://blaaackard.com/p/k8s-gpt/cover.fe6da3c89991d87dc3e8cd29550c6579_hu19669f3980519f16624bf304411b5ba5_1909883_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post K8sGPT„Çí‰Ωø„Å£„Å¶„ÇØ„É©„Çπ„Çø„ÅÆAIÂàÜÊûê„Çí„Åó„Å¶„Åø„Çà„ÅÜ"
                        data-key="k8s-gpt" 
                        data-hash="md5-/m2jyJmR2H3D6M0pVQxleQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">K8sGPT„Çí‰Ωø„Å£„Å¶„ÇØ„É©„Çπ„Çø„ÅÆAIÂàÜÊûê„Çí„Åó„Å¶„Åø„Çà„ÅÜ</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Penta&#39;s TechBlog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.20.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="https://blaaackard.com/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
